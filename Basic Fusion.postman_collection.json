{
	"info": {
		"_postman_id": "f6feb9b4-f180-4412-bcc6-4d77ca0f43a6",
		"name": "Basic Fusion",
		"description": "General Fusion calls for reference",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "General & Debug",
			"item": [
				{
					"name": "Get solr admin info -- zk connect string etc",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{furl}}/api/solrAdmin/default/admin/info/system",
							"host": [
								"{{furl}}"
							],
							"path": [
								"api",
								"solrAdmin",
								"default",
								"admin",
								"info",
								"system"
							]
						}
					},
					"response": []
				},
				{
					"name": "query logged in",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"numfound matches expected count\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.response.numFound).to.eql(6057174);",
									"",
									"});",
									"",
									"pm.test(\"returned docs contains expected id\", function () {",
									"    var jsonData = pm.response.json();",
									"    var docs = jsonData.response.docs;",
									"    var doc1 = docs[0];",
									"    console.log(\"Doc1: \" + doc1);",
									"    // pm.expect(jsonData).to.have.deep.property('response.docs.type_s', 'channel');",
									"    pm.expect(jsonData.response.docs).to.be.an('array');",
									"    //.that.contains.something.like({id: 'https://lucidworks.slack.com/archives/general/p1435599620000629'});",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{furl}}/api/apps/{{app}}/query-pipelines/{{qryp}}/collections/{{coll}}/select?q=*:*",
							"host": [
								"{{furl}}"
							],
							"path": [
								"api",
								"apps",
								"{{app}}",
								"query-pipelines",
								"{{qryp}}",
								"collections",
								"{{coll}}",
								"select"
							],
							"query": [
								{
									"key": "q",
									"value": "*:*"
								}
							]
						},
						"description": "test being logged in"
					},
					"response": []
				},
				{
					"name": "Basic Query",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{furl}}/api/apollo/apps/{{app}}/query-pipelines/{{qryp}}/collections/{{coll}}/select?echoParams=all&wt=json&json.nl=arrarr&sort&start=0&q=test&debug=true&rows=10",
							"host": [
								"{{furl}}"
							],
							"path": [
								"api",
								"apollo",
								"apps",
								"{{app}}",
								"query-pipelines",
								"{{qryp}}",
								"collections",
								"{{coll}}",
								"select"
							],
							"query": [
								{
									"key": "echoParams",
									"value": "all"
								},
								{
									"key": "wt",
									"value": "json"
								},
								{
									"key": "json.nl",
									"value": "arrarr"
								},
								{
									"key": "sort",
									"value": null
								},
								{
									"key": "start",
									"value": "0"
								},
								{
									"key": "q",
									"value": "test"
								},
								{
									"key": "debug",
									"value": "true"
								},
								{
									"key": "rows",
									"value": "10"
								}
							]
						},
						"description": "Just a simple query of collection lucy"
					},
					"response": []
				},
				{
					"name": "Simple API call",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{furl}}/api",
							"host": [
								"{{furl}}"
							],
							"path": [
								"api"
							]
						}
					},
					"response": []
				},
				{
					"name": "Simple API introspect",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{furl}}/api/introspect",
							"host": [
								"{{furl}}"
							],
							"path": [
								"api",
								"introspect"
							]
						}
					},
					"response": []
				},
				{
					"name": "Query system logs",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{furl}}/api/apollo/apps/{{app}}/query-pipelines/system-logs-browser/collections/system_logs/select?echoParams=all&wt=json&q=zzz",
							"host": [
								"{{furl}}"
							],
							"path": [
								"api",
								"apollo",
								"apps",
								"{{app}}",
								"query-pipelines",
								"system-logs-browser",
								"collections",
								"system_logs",
								"select"
							],
							"query": [
								{
									"key": "echoParams",
									"value": "all"
								},
								{
									"key": "wt",
									"value": "json"
								},
								{
									"key": "q",
									"value": "zzz"
								}
							]
						},
						"description": "look for logs entries "
					},
					"response": []
				},
				{
					"name": "Get solr cluster api/collections info",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Your test name\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData[0].id).to.eql('news_signals_aggr');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{furl}}/api/collections",
							"host": [
								"{{furl}}"
							],
							"path": [
								"api",
								"collections"
							]
						}
					},
					"response": []
				},
				{
					"name": "Luke solr api request {{coll}}",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"numfound matches expected count\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.response.numFound).to.be.gt(1);",
									"",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{furl}}/api/solr/{{coll}}/admin/luke",
							"host": [
								"{{furl}}"
							],
							"path": [
								"api",
								"solr",
								"{{coll}}",
								"admin",
								"luke"
							],
							"query": [
								{
									"key": "commit",
									"value": "true",
									"disabled": true
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get {{coll}} solr-configs",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 204\", function () {",
									"    pm.response.to.have.status(204);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{furl}}/api/apollo/collections/{{coll}}/solr-config",
							"host": [
								"{{furl}}"
							],
							"path": [
								"api",
								"apollo",
								"collections",
								"{{coll}}",
								"solr-config"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get {{coll}} solr-config synonym.txt",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 204\", function () {",
									"    pm.response.to.have.status(204);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true,
						"disabledSystemHeaders": {
							"accept": true
						}
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "text/plain",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{furl}}/api/apollo/collections/{{coll}}/solr-config/synonyms.txt?expand=true",
							"host": [
								"{{furl}}"
							],
							"path": [
								"api",
								"apollo",
								"collections",
								"{{coll}}",
								"solr-config",
								"synonyms.txt"
							],
							"query": [
								{
									"key": "expand",
									"value": "true"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Schema",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "text/plain",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{furl}}/api/collections/{{coll}}/solr-config/managed-schema?expand=true",
							"host": [
								"{{furl}}"
							],
							"path": [
								"api",
								"collections",
								"{{coll}}",
								"solr-config",
								"managed-schema"
							],
							"query": [
								{
									"key": "expand",
									"value": "true"
								}
							]
						}
					},
					"response": []
				}
			],
			"description": "things to help general work and debugging"
		},
		{
			"name": "Setup",
			"item": [
				{
					"name": "Get Basic query pipeline",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{furl}}/api/apps/{{app}}/query-pipelines/sean-test",
							"host": [
								"{{furl}}"
							],
							"path": [
								"api",
								"apps",
								"{{app}}",
								"query-pipelines",
								"sean-test"
							]
						},
						"description": "Create basic query pipeline with hl, phrase, q.alt, mm\n\n{{furl}}/api/apps/{{app}}/query-pipelines/web2021"
					},
					"response": []
				},
				{
					"name": "Create sean-test query pipeline",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"id\": \"sean-test\",\n  \"stages\": [\n    {\n      \"type\": \"set-params\",\n      \"id\": \"n0b\",\n      \"params\": [\n        {\n          \"key\": \"pf\",\n          \"value\": \"title^10 body^5 description^10\",\n          \"policy\": \"append\"\n        }\n      ],\n      \"type\": \"set-params\",\n      \"skip\": false,\n      \"label\": \"phrase boosting\",\n      \"licensed\": true,\n      \"secretSourceStageId\": \"n0b\"\n    },\n    {\n      \"type\": \"set-params\",\n      \"id\": \"jjw\",\n      \"params\": [\n        {\n          \"key\": \"q.alt\",\n          \"value\": \"*:*\",\n          \"policy\": \"append\"\n        }\n      ],\n      \"type\": \"set-params\",\n      \"skip\": false,\n      \"label\": \"q.alt\",\n      \"licensed\": true,\n      \"secretSourceStageId\": \"jjw\"\n    },\n    {\n      \"type\": \"set-params\",\n      \"id\": \"bq7\",\n      \"params\": [\n        {\n          \"key\": \"hl\",\n          \"value\": \"on\",\n          \"policy\": \"default\"\n        },\n        {\n          \"key\": \"hl.fl\",\n          \"value\": \"*\",\n          \"policy\": \"default\"\n        },\n        {\n          \"key\": \"hl.snippets\",\n          \"value\": \"3\",\n          \"policy\": \"default\"\n        }\n      ],\n      \"type\": \"set-params\",\n      \"skip\": false,\n      \"label\": \"hl params\",\n      \"licensed\": true,\n      \"secretSourceStageId\": \"bq7\"\n    },\n    {\n      \"type\": \"set-params\",\n      \"id\": \"ag\",\n      \"params\": [\n        {\n          \"key\": \"mm\",\n          \"value\": \"2\",\n          \"policy\": \"default\"\n        }\n      ],\n      \"type\": \"set-params\",\n      \"skip\": false,\n      \"label\": \"mm params\",\n      \"licensed\": true,\n      \"secretSourceStageId\": \"ag\"\n    },\n    {\n      \"type\": \"text-tagger\",\n      \"id\": \"4bed1173-c90b-4b2a-992d-db4df2d697b6\",\n      \"useEmbeddedSolrServer\": false,\n      \"paramToTag\": \"q\",\n      \"spell_corrections_enabled\": true,\n      \"phrase_boosting_enabled\": true,\n      \"tail_rewrites_enabled\": true,\n      \"phraseBoost\": 2.0,\n      \"phraseSlop\": 10,\n      \"synonymExpansionBoost\": 2.0,\n      \"synonym_expansion_enabled\": true,\n      \"overlaps\": \"ALL\",\n      \"params\": [],\n      \"type\": \"text-tagger\",\n      \"skip\": true,\n      \"licensed\": true,\n      \"secretSourceStageId\": \"4bed1173-c90b-4b2a-992d-db4df2d697b6\"\n    },\n    {\n      \"type\": \"recommendation\",\n      \"id\": \"b0b84fd9-89a4-47c3-b1f3-956216dd6561\",\n      \"numRecommendations\": 10,\n      \"numSignals\": 100,\n      \"aggrType\": \"click@doc_id,filters,query\",\n      \"boostId\": \"id\",\n      \"boostingMethod\": \"query-param\",\n      \"boostingParam\": \"boost\",\n      \"queryParams\": [\n        {\n          \"key\": \"qf\",\n          \"value\": \"query_t\"\n        },\n        {\n          \"key\": \"pf\",\n          \"value\": \"query_t^50\"\n        },\n        {\n          \"key\": \"pf\",\n          \"value\": \"query_t~3^20\"\n        },\n        {\n          \"key\": \"pf2\",\n          \"value\": \"query_t^20\"\n        },\n        {\n          \"key\": \"pf2\",\n          \"value\": \"query_t~3^10\"\n        },\n        {\n          \"key\": \"pf3\",\n          \"value\": \"query_t^10\"\n        },\n        {\n          \"key\": \"pf3\",\n          \"value\": \"query_t~3^5\"\n        },\n        {\n          \"key\": \"boost\",\n          \"value\": \"map(query({!field f=query_s v=$q}),0,0,1,20)\"\n        },\n        {\n          \"key\": \"mm\",\n          \"value\": \"50%\"\n        },\n        {\n          \"key\": \"defType\",\n          \"value\": \"edismax\"\n        },\n        {\n          \"key\": \"sort\",\n          \"value\": \"score desc, weight_d desc\"\n        }\n      ],\n      \"rollupField\": \"doc_id_s\",\n      \"rollupWeightField\": \"weight_d\",\n      \"weightExpression\": \"math:log(weight_d + 1) + 10 * math:log(score+1)\",\n      \"rollupWeightStrategy\": \"max\",\n      \"type\": \"recommendation\",\n      \"skip\": true,\n      \"licensed\": true,\n      \"secretSourceStageId\": \"b0b84fd9-89a4-47c3-b1f3-956216dd6561\"\n    },\n    {\n      \"type\": \"search-fields\",\n      \"id\": \"09618459-2b44-4725-9d23-0e0df55c1df9\",\n      \"rows\": 10,\n      \"start\": 0,\n      \"queryFields\": [\n        {\n          \"field\": \"body_wsl\",\n          \"boost\": 2.0\n        },\n        {\n          \"field\": \"title_wsl\",\n          \"boost\": 20.0\n        },\n        {\n          \"field\": \"description_wsl\",\n          \"boost\": 2.0\n        },\n        {\n          \"field\": \"title_t\",\n          \"boost\": 10.0\n        },\n        {\n          \"field\": \"description_t\",\n          \"boost\": 8.0\n        },\n        {\n          \"field\": \"body_t\",\n          \"boost\": 5.0\n        },\n        {\n          \"field\": \"_text_\",\n          \"boost\": 0.01\n        }\n      ],\n      \"returnFields\": [\n        \"*\",\n        \"score\",\n        \"length_l\",\n        \"title\",\n        \"fetchedDate_dt\",\n        \"lastModified_dt\",\n        \"description\"\n      ],\n      \"type\": \"search-fields\",\n      \"skip\": false,\n      \"licensed\": true,\n      \"secretSourceStageId\": \"09618459-2b44-4725-9d23-0e0df55c1df9\"\n    },\n    {\n      \"type\": \"facet\",\n      \"id\": \"0de1cc5e-8db4-43da-b9cb-199645ce5814\",\n      \"fieldFacets\": [\n        {\n          \"field\": \"_lw_data_source_s\",\n          \"minCount\": 1,\n          \"missing\": false\n        },\n        {\n          \"field\": \"mimeType_s\",\n          \"minCount\": 1,\n          \"missing\": false\n        },\n        {\n          \"field\": \"parent_s\",\n          \"minCount\": 1,\n          \"missing\": false\n        },\n        {\n          \"field\": \"_lw_parser_content_type_s\",\n          \"minCount\": 1,\n          \"missing\": false\n        },\n        {\n          \"field\": \"_lw_batch_id_s\",\n          \"minCount\": 1,\n          \"missing\": false\n        },\n        {\n          \"field\": \"_lw_parser_charset_s\",\n          \"minCount\": 1,\n          \"missing\": false\n        },\n        {\n          \"field\": \"urlpart1_s\",\n          \"minCount\": 1,\n          \"missing\": false\n        },\n        {\n          \"field\": \"urlpart2_s\",\n          \"minCount\": 1,\n          \"missing\": false\n        }\n      ],\n      \"type\": \"facet\",\n      \"skip\": false,\n      \"licensed\": true,\n      \"secretSourceStageId\": \"0de1cc5e-8db4-43da-b9cb-199645ce5814\",\n      \"properties\": {\n        \"autoCreated\": true\n      }\n    },\n    {\n      \"type\": \"query-rules\",\n      \"id\": \"5bbeb667-aa21-4cc1-a4bc-d64ef92f27cb\",\n      \"useEmbeddedSolrServer\": false,\n      \"useOriginalQueryIfNoRulesMatch\": true,\n      \"matchPartialFilterQueries\": true,\n      \"handler\": \"select\",\n      \"method\": \"POST\",\n      \"ruleLimit\": \"100\",\n      \"params\": [],\n      \"hierarchicalFilter\": [],\n      \"headers\": [],\n      \"type\": \"query-rules\",\n      \"skip\": true,\n      \"licensed\": true,\n      \"secretSourceStageId\": \"5bbeb667-aa21-4cc1-a4bc-d64ef92f27cb\"\n    },\n    {\n      \"type\": \"solr-query\",\n      \"id\": \"e0538d56-b374-4255-b34c-cfe0ae0d9380\",\n      \"httpMethod\": \"POST\",\n      \"allowFederatedSearch\": false,\n      \"type\": \"solr-query\",\n      \"skip\": false,\n      \"responseSignalsEnabled\": true,\n      \"licensed\": true,\n      \"secretSourceStageId\": \"e0538d56-b374-4255-b34c-cfe0ae0d9380\"\n    },\n    {\n      \"type\": \"query-rules-augment-response\",\n      \"id\": \"fc5afc32-2149-4036-b4b5-54044b4c2385\",\n      \"facetLabelParseDelimiter\": \"||\",\n      \"type\": \"query-rules-augment-response\",\n      \"skip\": true,\n      \"licensed\": true,\n      \"secretSourceStageId\": \"fc5afc32-2149-4036-b4b5-54044b4c2385\"\n    }\n  ],\n  \"properties\": {\n    \"secretSourcePipelineId\": \"sean-test\"\n  }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{furl}}/api/apps/{{app}}/query-pipelines/",
							"host": [
								"{{furl}}"
							],
							"path": [
								"api",
								"apps",
								"{{app}}",
								"query-pipelines",
								""
							]
						},
						"description": "Create basic query pipeline with hl, phrase, q.alt, mm"
					},
					"response": []
				},
				{
					"name": "Update sean-test query pipeline",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"id\": \"sean-test\",\n    \"stages\": [\n        {\n            \"type\": \"set-params\",\n            \"id\": \"n0b\",\n            \"params\": [\n                {\n                    \"key\": \"pf\",\n                    \"value\": \"title_t^10 body_t^5 description_t^10\",\n                    \"policy\": \"append\"\n                }\n            ],\n            \"type\": \"set-params\",\n            \"skip\": false,\n            \"label\": \"phrase boosting\",\n            \"licensed\": true,\n            \"secretSourceStageId\": \"n0b\"\n        },\n        {\n            \"type\": \"set-params\",\n            \"id\": \"jjw\",\n            \"params\": [\n                {\n                    \"key\": \"q.alt\",\n                    \"value\": \"*:*\",\n                    \"policy\": \"append\"\n                }\n            ],\n            \"type\": \"set-params\",\n            \"skip\": false,\n            \"label\": \"q.alt\",\n            \"licensed\": true,\n            \"secretSourceStageId\": \"jjw\"\n        },\n        {\n            \"type\": \"set-params\",\n            \"id\": \"bq7\",\n            \"params\": [\n                {\n                    \"key\": \"hl\",\n                    \"value\": \"on\",\n                    \"policy\": \"default\"\n                },\n                {\n                    \"key\": \"hl.fl\",\n                    \"value\": \"*\",\n                    \"policy\": \"default\"\n                },\n                {\n                    \"key\": \"hl.snippets\",\n                    \"value\": \"3\",\n                    \"policy\": \"default\"\n                }\n            ],\n            \"type\": \"set-params\",\n            \"skip\": false,\n            \"label\": \"hl params\",\n            \"licensed\": true,\n            \"secretSourceStageId\": \"bq7\"\n        },\n        {\n            \"type\": \"set-params\",\n            \"id\": \"ag\",\n            \"params\": [\n                {\n                    \"key\": \"mm\",\n                    \"value\": \"2\",\n                    \"policy\": \"default\"\n                }\n            ],\n            \"type\": \"set-params\",\n            \"skip\": false,\n            \"label\": \"mm params\",\n            \"licensed\": true,\n            \"secretSourceStageId\": \"ag\"\n        },\n        {\n            \"type\": \"text-tagger\",\n            \"id\": \"4bed1173-c90b-4b2a-992d-db4df2d697b6\",\n            \"useEmbeddedSolrServer\": false,\n            \"paramToTag\": \"q\",\n            \"spell_corrections_enabled\": true,\n            \"phrase_boosting_enabled\": true,\n            \"tail_rewrites_enabled\": true,\n            \"phraseBoost\": 2.0,\n            \"phraseSlop\": 10,\n            \"synonymExpansionBoost\": 2.0,\n            \"synonym_expansion_enabled\": true,\n            \"overlaps\": \"ALL\",\n            \"params\": [],\n            \"type\": \"text-tagger\",\n            \"skip\": true,\n            \"licensed\": true,\n            \"secretSourceStageId\": \"4bed1173-c90b-4b2a-992d-db4df2d697b6\"\n        },\n        {\n            \"type\": \"recommendation\",\n            \"id\": \"b0b84fd9-89a4-47c3-b1f3-956216dd6561\",\n            \"numRecommendations\": 10,\n            \"numSignals\": 100,\n            \"aggrType\": \"click@doc_id,filters,query\",\n            \"boostId\": \"id\",\n            \"boostingMethod\": \"query-param\",\n            \"boostingParam\": \"boost\",\n            \"queryParams\": [\n                {\n                    \"key\": \"qf\",\n                    \"value\": \"query_t\"\n                },\n                {\n                    \"key\": \"pf\",\n                    \"value\": \"query_t^50\"\n                },\n                {\n                    \"key\": \"pf\",\n                    \"value\": \"query_t~3^20\"\n                },\n                {\n                    \"key\": \"pf2\",\n                    \"value\": \"query_t^20\"\n                },\n                {\n                    \"key\": \"pf2\",\n                    \"value\": \"query_t~3^10\"\n                },\n                {\n                    \"key\": \"pf3\",\n                    \"value\": \"query_t^10\"\n                },\n                {\n                    \"key\": \"pf3\",\n                    \"value\": \"query_t~3^5\"\n                },\n                {\n                    \"key\": \"boost\",\n                    \"value\": \"map(query({!field f=query_s v=$q}),0,0,1,20)\"\n                },\n                {\n                    \"key\": \"mm\",\n                    \"value\": \"50%\"\n                },\n                {\n                    \"key\": \"defType\",\n                    \"value\": \"edismax\"\n                },\n                {\n                    \"key\": \"sort\",\n                    \"value\": \"score desc, weight_d desc\"\n                }\n            ],\n            \"rollupField\": \"doc_id_s\",\n            \"rollupWeightField\": \"weight_d\",\n            \"weightExpression\": \"math:log(weight_d + 1) + 10 * math:log(score+1)\",\n            \"rollupWeightStrategy\": \"max\",\n            \"type\": \"recommendation\",\n            \"skip\": true,\n            \"licensed\": true,\n            \"secretSourceStageId\": \"b0b84fd9-89a4-47c3-b1f3-956216dd6561\"\n        },\n        {\n            \"type\": \"search-fields\",\n            \"id\": \"09618459-2b44-4725-9d23-0e0df55c1df9\",\n            \"rows\": 10,\n            \"start\": 0,\n            \"queryFields\": [\n                {\n                    \"field\": \"body_txt_en\",\n                    \"boost\": 2.0\n                },\n                {\n                    \"field\": \"body_t\",\n                    \"boost\": 5.0\n                },\n                {\n                    \"field\": \"title_t\",\n                    \"boost\": 20.0\n                },\n                {\n                    \"field\": \"title_txt_en\",\n                    \"boost\": 10.0\n                },\n                {\n                    \"field\": \"description_txt_en\",\n                    \"boost\": 2.0\n                },\n                {\n                    \"field\": \"body_t\",\n                    \"boost\": 5.0\n                },\n                {\n                    \"field\": \"description_t\",\n                    \"boost\": 8.0\n                },\n                {\n                    \"field\": \"_text_\",\n                    \"boost\": 0.01\n                }\n            ],\n            \"returnFields\": [\n                \"*\",\n                \"score\",\n                \"length_l\",\n                \"title_t\",\n                \"fetchedDate_dt\",\n                \"lastModified_dt\",\n                \"description_t\",\n                \"_lw_batch_id_s\",\n                \"_lw_data_source_s\"\n            ],\n            \"type\": \"search-fields\",\n            \"skip\": false,\n            \"licensed\": true,\n            \"secretSourceStageId\": \"09618459-2b44-4725-9d23-0e0df55c1df9\"\n        },\n        {\n            \"type\": \"facet\",\n            \"id\": \"0de1cc5e-8db4-43da-b9cb-199645ce5814\",\n            \"fieldFacets\": [\n                {\n                    \"field\": \"_lw_data_source_s\",\n                    \"minCount\": 1,\n                    \"missing\": false\n                },\n                {\n                    \"field\": \"mimeType_s\",\n                    \"minCount\": 1,\n                    \"missing\": false\n                },\n                {\n                    \"field\": \"parent_s\",\n                    \"minCount\": 1,\n                    \"missing\": false\n                },\n                {\n                    \"field\": \"_lw_parser_content_type_s\",\n                    \"minCount\": 1,\n                    \"missing\": false\n                },\n                {\n                    \"field\": \"_lw_batch_id_s\",\n                    \"minCount\": 1,\n                    \"missing\": false\n                },\n                {\n                    \"field\": \"_lw_parser_charset_s\",\n                    \"minCount\": 1,\n                    \"missing\": false\n                }\n            ],\n            \"type\": \"facet\",\n            \"skip\": false,\n            \"licensed\": true,\n            \"secretSourceStageId\": \"0de1cc5e-8db4-43da-b9cb-199645ce5814\",\n            \"properties\": {\n                \"autoCreated\": true\n            }\n        },\n        {\n            \"type\": \"query-rules\",\n            \"id\": \"5bbeb667-aa21-4cc1-a4bc-d64ef92f27cb\",\n            \"useEmbeddedSolrServer\": false,\n            \"useOriginalQueryIfNoRulesMatch\": true,\n            \"matchPartialFilterQueries\": true,\n            \"handler\": \"select\",\n            \"method\": \"POST\",\n            \"ruleLimit\": \"100\",\n            \"params\": [],\n            \"hierarchicalFilter\": [],\n            \"headers\": [],\n            \"type\": \"query-rules\",\n            \"skip\": true,\n            \"licensed\": true,\n            \"secretSourceStageId\": \"5bbeb667-aa21-4cc1-a4bc-d64ef92f27cb\"\n        },\n        {\n            \"type\": \"solr-query\",\n            \"id\": \"e0538d56-b374-4255-b34c-cfe0ae0d9380\",\n            \"httpMethod\": \"POST\",\n            \"allowFederatedSearch\": false,\n            \"type\": \"solr-query\",\n            \"skip\": false,\n            \"responseSignalsEnabled\": true,\n            \"licensed\": true,\n            \"secretSourceStageId\": \"e0538d56-b374-4255-b34c-cfe0ae0d9380\"\n        },\n        {\n            \"type\": \"query-rules-augment-response\",\n            \"id\": \"fc5afc32-2149-4036-b4b5-54044b4c2385\",\n            \"facetLabelParseDelimiter\": \"||\",\n            \"type\": \"query-rules-augment-response\",\n            \"skip\": true,\n            \"licensed\": true,\n            \"secretSourceStageId\": \"fc5afc32-2149-4036-b4b5-54044b4c2385\"\n        }\n    ],\n    \"properties\": {\n        \"secretSourcePipelineId\": \"sean-test\"\n    }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{furl}}/api/apps/{{app}}/query-pipelines/sean-test",
							"host": [
								"{{furl}}"
							],
							"path": [
								"api",
								"apps",
								"{{app}}",
								"query-pipelines",
								"sean-test"
							]
						}
					},
					"response": []
				},
				{
					"name": "add field to solr schema",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();",
									"var minValidQTime = 100;",
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"operation took some time\", function () {",
									"    pm.expect(jsonData.responseHeader.QTime).to.be.above(minValidQTime);",
									"});",
									"",
									"pm.test(\"Status == 0\", function () {",
									"    pm.expect(jsonData.responseHeader.status).to.eql(0);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"add-field\": {\n        \"name\": \"test_foo_t\",\n        \"type\": \"text_en\",\n        \"stored\": true\n    }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{furl}}/api/solr/{{coll}}/schema",
							"host": [
								"{{furl}}"
							],
							"path": [
								"api",
								"solr",
								"{{coll}}",
								"schema"
							]
						},
						"description": "just a demo call for modifying schema "
					},
					"response": []
				},
				{
					"name": "Delete field from solr schema",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();",
									"var minValidQTime = 100;",
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"operation took some time\", function () {",
									"    pm.expect(jsonData.responseHeader.QTime).to.be.above(minValidQTime);",
									"});",
									"",
									"pm.test(\"Status == 0\", function () {",
									"    pm.expect(jsonData.responseHeader.status).to.eql(0);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\"delete-field\" : { \"name\":\"test_foo_t\" }}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{furl}}/api/solr/{{coll}}/schema",
							"host": [
								"{{furl}}"
							],
							"path": [
								"api",
								"solr",
								"{{coll}}",
								"schema"
							]
						}
					},
					"response": []
				},
				{
					"name": "F5 Get Basic license info",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{furl}}/api/license",
							"host": [
								"{{furl}}"
							],
							"path": [
								"api",
								"license"
							]
						}
					},
					"response": []
				},
				{
					"name": "GET system-logs query definition",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"numfound matches expected count\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.response.numFound).to.be.gt(1);",
									"",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{furl}}/api/apollo/apps/{{app}}/query-pipelines/system-logs-browser",
							"host": [
								"{{furl}}"
							],
							"path": [
								"api",
								"apollo",
								"apps",
								"{{app}}",
								"query-pipelines",
								"system-logs-browser"
							]
						}
					},
					"response": [
						{
							"name": "example system-logs query definition",
							"originalRequest": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{furl}}/api/apollo/apps/{{app}}/query-pipelines/system-logs-browser",
									"host": [
										"{{furl}}"
									],
									"path": [
										"api",
										"apollo",
										"apps",
										"{{app}}",
										"query-pipelines",
										"system-logs-browser"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Server",
									"value": "Jetty(9.4.19.v20190610)"
								},
								{
									"key": "ETag",
									"value": "W/\"16\""
								},
								{
									"key": "fusion-request-id",
									"value": "FjHZsOd1Id"
								},
								{
									"key": "Content-Type",
									"value": "application/json"
								},
								{
									"key": "Set-Cookie",
									"value": "id=8c87ba31-7913-405a-b2e0-2c575b3457ea;Path=/;HttpOnly"
								},
								{
									"key": "Content-Length",
									"value": "7553"
								}
							],
							"cookie": [],
							"body": "{\n    \"id\": \"system-logs-browser\",\n    \"stages\": [\n        {\n            \"type\": \"set-params\",\n            \"id\": \"91n\",\n            \"params\": [\n                {\n                    \"key\": \"sort\",\n                    \"value\": \"timestamp_tdt desc\",\n                    \"policy\": \"append\"\n                }\n            ],\n            \"skip\": false,\n            \"label\": \"Sort Timestamp desc\",\n            \"licensed\": true,\n            \"secretSourceStageId\": \"91n\"\n        },\n        {\n            \"type\": \"set-params\",\n            \"id\": \"70l\",\n            \"params\": [\n                {\n                    \"key\": \"pf\",\n                    \"value\": \"logmessage_txt^10 message_txt^10\",\n                    \"policy\": \"default\"\n                }\n            ],\n            \"skip\": false,\n            \"label\": \"phrase field\",\n            \"licensed\": true,\n            \"secretSourceStageId\": \"70l\"\n        },\n        {\n            \"type\": \"set-params\",\n            \"id\": \"4oe\",\n            \"params\": [\n                {\n                    \"key\": \"hl\",\n                    \"value\": \"on\",\n                    \"policy\": \"default\"\n                },\n                {\n                    \"key\": \"hl.fl\",\n                    \"value\": \"*\",\n                    \"policy\": \"default\"\n                }\n            ],\n            \"skip\": false,\n            \"label\": \"HL params\",\n            \"licensed\": true,\n            \"secretSourceStageId\": \"4oe\"\n        },\n        {\n            \"type\": \"set-params\",\n            \"id\": \"wagj\",\n            \"params\": [\n                {\n                    \"key\": \"q.alt\",\n                    \"value\": \"*:*\",\n                    \"policy\": \"default\"\n                }\n            ],\n            \"skip\": false,\n            \"label\": \"Q.alt\",\n            \"licensed\": true,\n            \"secretSourceStageId\": \"wagj\"\n        },\n        {\n            \"type\": \"set-params\",\n            \"id\": \"67b\",\n            \"params\": [\n                {\n                    \"key\": \"fq\",\n                    \"value\": \"timestamp_tdt:[NOW/MINUTE-5MINUTES TO *]\",\n                    \"policy\": \"append\"\n                }\n            ],\n            \"skip\": false,\n            \"label\": \"Filter to recent messages\",\n            \"licensed\": true,\n            \"secretSourceStageId\": \"67b\"\n        },\n        {\n            \"type\": \"set-params\",\n            \"id\": \"59a\",\n            \"params\": [\n                {\n                    \"key\": \"fq\",\n                    \"value\": \"-mdc_job_s:spark*\",\n                    \"policy\": \"append\"\n                },\n                {\n                    \"key\": \"fq\",\n                    \"value\": \"-cause_file_s:(Ignite* SparkJobTask.java GridClosureProcessor.java ComputeTaskAdapter.java)\",\n                    \"policy\": \"append\"\n                },\n                {\n                    \"key\": \"fq\",\n                    \"value\": \"-cause_class_s:(\\\"org.apache.ignite*\\\")\",\n                    \"policy\": \"append\"\n                },\n                {\n                    \"key\": \"fq\",\n                    \"value\": \"-file_s:(\\\"/opt/fusion/var/log/api/spark-driver-default.log\\\" \\\"/opt/lucidworks/fusion/4.2.6/var/log/api/spark-driver-default.log\\\")\",\n                    \"policy\": \"append\"\n                },\n                {\n                    \"key\": \"fq\",\n                    \"value\": \"-logger_class_s:(spark.client.SparkJobTask spark.job.SparkJobManager scheduler* \\\"apollo.component.DefaultSearchClusterRegistrar$SearchClusterWatcher\\\")\",\n                    \"policy\": \"append\"\n                },\n                {\n                    \"key\": \"fq\",\n                    \"value\": \"-level_s:INFO\",\n                    \"policy\": \"append\"\n                }\n            ],\n            \"skip\": false,\n            \"label\": \"Filter out noise\",\n            \"licensed\": true,\n            \"secretSourceStageId\": \"59a\"\n        },\n        {\n            \"type\": \"set-params\",\n            \"id\": \"3zk\",\n            \"params\": [\n                {\n                    \"key\": \"fq\",\n                    \"value\": \"-service_s:(proxy zookeeper agent)\",\n                    \"policy\": \"append\"\n                }\n            ],\n            \"skip\": false,\n            \"label\": \"Filter out noisy services (proxy)\",\n            \"licensed\": true,\n            \"secretSourceStageId\": \"3zk\"\n        },\n        {\n            \"type\": \"text-tagger\",\n            \"id\": \"e8b8fa10-7215-4b55-8fc1-fc55224ec0d3\",\n            \"useEmbeddedSolrServer\": false,\n            \"paramToTag\": \"q\",\n            \"spell_corrections_enabled\": true,\n            \"phrase_boosting_enabled\": true,\n            \"tail_rewrites_enabled\": true,\n            \"phraseBoost\": 2,\n            \"phraseSlop\": 10,\n            \"synonymExpansionBoost\": 2,\n            \"synonym_expansion_enabled\": true,\n            \"overlaps\": \"ALL\",\n            \"params\": [],\n            \"skip\": true,\n            \"licensed\": true,\n            \"secretSourceStageId\": \"e8b8fa10-7215-4b55-8fc1-fc55224ec0d3\"\n        },\n        {\n            \"type\": \"recommendation\",\n            \"id\": \"0dbadf96-3871-48fc-acdd-3f7d47382cd3\",\n            \"numRecommendations\": 10,\n            \"numSignals\": 100,\n            \"aggrType\": \"click@doc_id,filters,query\",\n            \"boostId\": \"id\",\n            \"boostingMethod\": \"query-param\",\n            \"boostingParam\": \"boost\",\n            \"queryParams\": [\n                {\n                    \"key\": \"qf\",\n                    \"value\": \"query_t\"\n                },\n                {\n                    \"key\": \"pf\",\n                    \"value\": \"query_t^50\"\n                },\n                {\n                    \"key\": \"pf\",\n                    \"value\": \"query_t~3^20\"\n                },\n                {\n                    \"key\": \"pf2\",\n                    \"value\": \"query_t^20\"\n                },\n                {\n                    \"key\": \"pf2\",\n                    \"value\": \"query_t~3^10\"\n                },\n                {\n                    \"key\": \"pf3\",\n                    \"value\": \"query_t^10\"\n                },\n                {\n                    \"key\": \"pf3\",\n                    \"value\": \"query_t~3^5\"\n                },\n                {\n                    \"key\": \"boost\",\n                    \"value\": \"map(query({!field f=query_s v=$q}),0,0,1,20)\"\n                },\n                {\n                    \"key\": \"mm\",\n                    \"value\": \"50%\"\n                },\n                {\n                    \"key\": \"defType\",\n                    \"value\": \"edismax\"\n                },\n                {\n                    \"key\": \"sort\",\n                    \"value\": \"score desc, weight_d desc\"\n                }\n            ],\n            \"rollupField\": \"doc_id_s\",\n            \"rollupWeightField\": \"weight_d\",\n            \"weightExpression\": \"math:log(weight_d + 1) + 10 * math:log(score+1)\",\n            \"rollupWeightStrategy\": \"max\",\n            \"skip\": true,\n            \"licensed\": true,\n            \"secretSourceStageId\": \"0dbadf96-3871-48fc-acdd-3f7d47382cd3\"\n        },\n        {\n            \"type\": \"search-fields\",\n            \"id\": \"36d5a725-9e19-4b3b-8593-041142bf7993\",\n            \"rows\": 10,\n            \"start\": 0,\n            \"queryFields\": [\n                {\n                    \"field\": \"_text_\",\n                    \"boost\": 0.01\n                },\n                {\n                    \"field\": \"logmessage_txt\",\n                    \"boost\": 1\n                },\n                {\n                    \"field\": \"message_txt\",\n                    \"boost\": 1\n                }\n            ],\n            \"returnFields\": [\n                \"*\",\n                \"score\"\n            ],\n            \"skip\": false,\n            \"licensed\": true,\n            \"secretSourceStageId\": \"36d5a725-9e19-4b3b-8593-041142bf7993\"\n        },\n        {\n            \"type\": \"facet\",\n            \"id\": \"890a1e71-6886-48a3-b923-5078706250ac\",\n            \"fieldFacets\": [\n                {\n                    \"field\": \"file_s\",\n                    \"minCount\": 1,\n                    \"missing\": false\n                },\n                {\n                    \"field\": \"level_s\",\n                    \"minCount\": 1,\n                    \"missing\": false\n                },\n                {\n                    \"field\": \"mdc_datasourceId_s\",\n                    \"minCount\": 1,\n                    \"missing\": false\n                },\n                {\n                    \"field\": \"mdc_job_s\",\n                    \"minCount\": 1,\n                    \"missing\": false\n                },\n                {\n                    \"field\": \"mdc_jobRunId_s\",\n                    \"minCount\": 1,\n                    \"missing\": false\n                },\n                {\n                    \"field\": \"service_s\",\n                    \"minCount\": 1,\n                    \"missing\": false\n                },\n                {\n                    \"field\": \"timestamp_tdt\",\n                    \"minCount\": 1,\n                    \"missing\": false\n                }\n            ],\n            \"skip\": false,\n            \"licensed\": true,\n            \"secretSourceStageId\": \"890a1e71-6886-48a3-b923-5078706250ac\",\n            \"properties\": {\n                \"autoCreated\": true\n            }\n        },\n        {\n            \"type\": \"query-rules\",\n            \"id\": \"3f3ad0f7-1b82-415f-a946-9e5224ea0ccc\",\n            \"useEmbeddedSolrServer\": false,\n            \"useOriginalQueryIfNoRulesMatch\": true,\n            \"matchPartialFilterQueries\": true,\n            \"handler\": \"select\",\n            \"method\": \"POST\",\n            \"ruleLimit\": \"100\",\n            \"params\": [],\n            \"hierarchicalFilter\": [],\n            \"headers\": [],\n            \"skip\": true,\n            \"licensed\": true,\n            \"secretSourceStageId\": \"3f3ad0f7-1b82-415f-a946-9e5224ea0ccc\"\n        },\n        {\n            \"type\": \"solr-query\",\n            \"id\": \"9b3d191e-0f45-4aee-99c7-bf5569586e90\",\n            \"httpMethod\": \"POST\",\n            \"allowFederatedSearch\": false,\n            \"skip\": false,\n            \"responseSignalsEnabled\": true,\n            \"licensed\": true,\n            \"secretSourceStageId\": \"9b3d191e-0f45-4aee-99c7-bf5569586e90\"\n        },\n        {\n            \"type\": \"query-rules-augment-response\",\n            \"id\": \"7a3c685a-aa5e-4d99-bf92-ad9d326fc524\",\n            \"facetLabelParseDelimiter\": \"||\",\n            \"skip\": true,\n            \"licensed\": true,\n            \"secretSourceStageId\": \"7a3c685a-aa5e-4d99-bf92-ad9d326fc524\"\n        }\n    ],\n    \"properties\": {\n        \"secretSourcePipelineId\": \"system-logs-browser\"\n    }\n}"
						}
					]
				},
				{
					"name": "CREATE query pipeline: system logs browser",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"id\": \"system-logs-browser\",\n  \"stages\": [\n    {\n      \"type\": \"set-params\",\n      \"id\": \"91n\",\n      \"params\": [\n        {\n          \"key\": \"sort\",\n          \"value\": \"timestamp_tdt desc\",\n          \"policy\": \"append\"\n        }\n      ],\n      \"type\": \"set-params\",\n      \"skip\": false,\n      \"label\": \"Sort Timestamp desc\",\n      \"licensed\": true,\n      \"secretSourceStageId\": \"91n\"\n    },\n    {\n      \"type\": \"set-params\",\n      \"id\": \"70l\",\n      \"params\": [\n        {\n          \"key\": \"pf\",\n          \"value\": \"logmessage_txt^10 message_txt^10\",\n          \"policy\": \"default\"\n        }\n      ],\n      \"type\": \"set-params\",\n      \"skip\": false,\n      \"label\": \"phrase field\",\n      \"licensed\": true,\n      \"secretSourceStageId\": \"70l\"\n    },\n    {\n      \"type\": \"set-params\",\n      \"id\": \"4oe\",\n      \"params\": [\n        {\n          \"key\": \"hl\",\n          \"value\": \"on\",\n          \"policy\": \"default\"\n        },\n        {\n          \"key\": \"hl.fl\",\n          \"value\": \"*\",\n          \"policy\": \"default\"\n        }\n      ],\n      \"type\": \"set-params\",\n      \"skip\": false,\n      \"label\": \"HL params\",\n      \"licensed\": true,\n      \"secretSourceStageId\": \"4oe\"\n    },\n    {\n      \"type\": \"set-params\",\n      \"id\": \"wagj\",\n      \"params\": [\n        {\n          \"key\": \"q.alt\",\n          \"value\": \"*:*\",\n          \"policy\": \"default\"\n        }\n      ],\n      \"type\": \"set-params\",\n      \"skip\": false,\n      \"label\": \"Q.alt\",\n      \"licensed\": true,\n      \"secretSourceStageId\": \"wagj\"\n    },\n    {\n      \"type\": \"set-params\",\n      \"id\": \"67b\",\n      \"params\": [\n        {\n          \"key\": \"fq\",\n          \"value\": \"timestamp_tdt:[NOW/MINUTE-15MINUTES TO *]\",\n          \"policy\": \"append\"\n        }\n      ],\n      \"type\": \"set-params\",\n      \"skip\": false,\n      \"label\": \"Filter to recent messages\",\n      \"licensed\": true,\n      \"secretSourceStageId\": \"67b\"\n    },\n    {\n      \"type\": \"set-params\",\n      \"id\": \"59a\",\n      \"params\": [\n        {\n          \"key\": \"fq\",\n          \"value\": \"-mdc_job_s:spark*\",\n          \"policy\": \"append\"\n        },\n        {\n          \"key\": \"fq\",\n          \"value\": \"-cause_file_s:(Ignite* SparkJobTask.java GridClosureProcessor.java ComputeTaskAdapter.java)\",\n          \"policy\": \"append\"\n        },\n        {\n          \"key\": \"fq\",\n          \"value\": \"-cause_class_s:(\\\"org.apache.ignite*\\\")\",\n          \"policy\": \"append\"\n        },\n        {\n          \"key\": \"fq\",\n          \"value\": \"-file_s:(\\\"/opt/fusion/var/log/api/spark-driver-default.log\\\")\",\n          \"policy\": \"append\"\n        },\n        {\n          \"key\": \"fq\",\n          \"value\": \"-logger_class_s:(spark.client.SparkJobTask spark.job.SparkJobManager scheduler*)\",\n          \"policy\": \"append\"\n        },\n        {\n          \"key\": \"fq\",\n          \"value\": \"-level_s:INFO\",\n          \"policy\": \"append\"\n        }\n      ],\n      \"type\": \"set-params\",\n      \"skip\": false,\n      \"label\": \"Filter out noise\",\n      \"licensed\": true,\n      \"secretSourceStageId\": \"59a\"\n    },\n\n    {\n      \"type\": \"search-fields\",\n      \"id\": \"36d5a725-9e19-4b3b-8593-041142bf7993\",\n      \"rows\": 10,\n      \"start\": 0,\n      \"queryFields\": [],\n      \"returnFields\": [\n        \"*\",\n        \"score\"\n      ],\n      \"type\": \"search-fields\",\n      \"skip\": false,\n      \"licensed\": true,\n      \"secretSourceStageId\": \"36d5a725-9e19-4b3b-8593-041142bf7993\"\n    },\n    {\n      \"type\": \"facet\",\n      \"id\": \"890a1e71-6886-48a3-b923-5078706250ac\",\n      \"fieldFacets\": [\n        {\n          \"field\": \"file_s\",\n          \"minCount\": 1,\n          \"missing\": false\n        },\n        {\n          \"field\": \"level_s\",\n          \"minCount\": 1,\n          \"missing\": false\n        },\n        {\n          \"field\": \"mdc_datasourceId_s\",\n          \"minCount\": 1,\n          \"missing\": false\n        },\n        {\n          \"field\": \"mdc_job_s\",\n          \"minCount\": 1,\n          \"missing\": false\n        },\n        {\n          \"field\": \"mdc_jobRunId_s\",\n          \"minCount\": 1,\n          \"missing\": false\n        },\n        {\n          \"field\": \"service_s\",\n          \"minCount\": 1,\n          \"missing\": false\n        },\n        {\n          \"field\": \"timestamp_tdt\",\n          \"minCount\": 1,\n          \"missing\": false\n        }\n      ],\n      \"type\": \"facet\",\n      \"skip\": false,\n      \"licensed\": true,\n      \"secretSourceStageId\": \"890a1e71-6886-48a3-b923-5078706250ac\",\n      \"properties\": {\n        \"autoCreated\": true\n      }\n    },\n    {\n      \"type\": \"solr-query\",\n      \"id\": \"9b3d191e-0f45-4aee-99c7-bf5569586e90\",\n      \"httpMethod\": \"POST\",\n      \"allowFederatedSearch\": false,\n      \"type\": \"solr-query\",\n      \"skip\": false,\n      \"responseSignalsEnabled\": true,\n      \"licensed\": true,\n      \"secretSourceStageId\": \"9b3d191e-0f45-4aee-99c7-bf5569586e90\"\n    }\n  ],\n  \"properties\": {\n    \"secretSourcePipelineId\": \"system-logs-browser\"\n  }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{furl}}/api/apps/{{app}}/query-pipelines",
							"host": [
								"{{furl}}"
							],
							"path": [
								"api",
								"apps",
								"{{app}}",
								"query-pipelines"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create synonyms.rei.txt",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 204\", function () {",
									"    pm.response.to.have.status(204);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "lw->lucidworks\r\nFusion,Awesome\r\nesh,erik s hatcher"
						},
						"url": {
							"raw": "{{furl}}/api/collections/{{coll}}/solr-config/synonyms.demo.txt?reload=true",
							"host": [
								"{{furl}}"
							],
							"path": [
								"api",
								"collections",
								"{{coll}}",
								"solr-config",
								"synonyms.demo.txt"
							],
							"query": [
								{
									"key": "reload",
									"value": "true"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "CREATE query pipeline: system logs browser",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"id\": \"system-logs-browser\",\n  \"stages\": [\n    {\n      \"type\": \"set-params\",\n      \"id\": \"91n\",\n      \"params\": [\n        {\n          \"key\": \"sort\",\n          \"value\": \"timestamp_tdt desc\",\n          \"policy\": \"append\"\n        }\n      ],\n      \"type\": \"set-params\",\n      \"skip\": false,\n      \"label\": \"Sort Timestamp desc\",\n      \"licensed\": true,\n      \"secretSourceStageId\": \"91n\"\n    },\n    {\n      \"type\": \"set-params\",\n      \"id\": \"70l\",\n      \"params\": [\n        {\n          \"key\": \"pf\",\n          \"value\": \"logmessage_txt^10 message_txt^10\",\n          \"policy\": \"default\"\n        }\n      ],\n      \"type\": \"set-params\",\n      \"skip\": false,\n      \"label\": \"phrase field\",\n      \"licensed\": true,\n      \"secretSourceStageId\": \"70l\"\n    },\n    {\n      \"type\": \"set-params\",\n      \"id\": \"4oe\",\n      \"params\": [\n        {\n          \"key\": \"hl\",\n          \"value\": \"on\",\n          \"policy\": \"default\"\n        },\n        {\n          \"key\": \"hl.fl\",\n          \"value\": \"*\",\n          \"policy\": \"default\"\n        }\n      ],\n      \"type\": \"set-params\",\n      \"skip\": false,\n      \"label\": \"HL params\",\n      \"licensed\": true,\n      \"secretSourceStageId\": \"4oe\"\n    },\n    {\n      \"type\": \"set-params\",\n      \"id\": \"wagj\",\n      \"params\": [\n        {\n          \"key\": \"q.alt\",\n          \"value\": \"*:*\",\n          \"policy\": \"default\"\n        }\n      ],\n      \"type\": \"set-params\",\n      \"skip\": false,\n      \"label\": \"Q.alt\",\n      \"licensed\": true,\n      \"secretSourceStageId\": \"wagj\"\n    },\n    {\n      \"type\": \"set-params\",\n      \"id\": \"67b\",\n      \"params\": [\n        {\n          \"key\": \"fq\",\n          \"value\": \"timestamp_tdt:[NOW/MINUTE-15MINUTES TO *]\",\n          \"policy\": \"append\"\n        }\n      ],\n      \"type\": \"set-params\",\n      \"skip\": false,\n      \"label\": \"Filter to recent messages\",\n      \"licensed\": true,\n      \"secretSourceStageId\": \"67b\"\n    },\n    {\n      \"type\": \"set-params\",\n      \"id\": \"59a\",\n      \"params\": [\n        {\n          \"key\": \"fq\",\n          \"value\": \"-mdc_job_s:spark*\",\n          \"policy\": \"append\"\n        },\n        {\n          \"key\": \"fq\",\n          \"value\": \"-cause_file_s:(Ignite* SparkJobTask.java GridClosureProcessor.java ComputeTaskAdapter.java)\",\n          \"policy\": \"append\"\n        },\n        {\n          \"key\": \"fq\",\n          \"value\": \"-cause_class_s:(\\\"org.apache.ignite*\\\")\",\n          \"policy\": \"append\"\n        },\n        {\n          \"key\": \"fq\",\n          \"value\": \"-file_s:(\\\"/opt/fusion/var/log/api/spark-driver-default.log\\\")\",\n          \"policy\": \"append\"\n        },\n        {\n          \"key\": \"fq\",\n          \"value\": \"-logger_class_s:(spark.client.SparkJobTask spark.job.SparkJobManager scheduler*)\",\n          \"policy\": \"append\"\n        },\n        {\n          \"key\": \"fq\",\n          \"value\": \"-level_s:INFO\",\n          \"policy\": \"append\"\n        }\n      ],\n      \"type\": \"set-params\",\n      \"skip\": false,\n      \"label\": \"Filter out noise\",\n      \"licensed\": true,\n      \"secretSourceStageId\": \"59a\"\n    },\n\n    {\n      \"type\": \"search-fields\",\n      \"id\": \"36d5a725-9e19-4b3b-8593-041142bf7993\",\n      \"rows\": 10,\n      \"start\": 0,\n      \"queryFields\": [],\n      \"returnFields\": [\n        \"*\",\n        \"score\"\n      ],\n      \"type\": \"search-fields\",\n      \"skip\": false,\n      \"licensed\": true,\n      \"secretSourceStageId\": \"36d5a725-9e19-4b3b-8593-041142bf7993\"\n    },\n    {\n      \"type\": \"facet\",\n      \"id\": \"890a1e71-6886-48a3-b923-5078706250ac\",\n      \"fieldFacets\": [\n        {\n          \"field\": \"file_s\",\n          \"minCount\": 1,\n          \"missing\": false\n        },\n        {\n          \"field\": \"level_s\",\n          \"minCount\": 1,\n          \"missing\": false\n        },\n        {\n          \"field\": \"mdc_datasourceId_s\",\n          \"minCount\": 1,\n          \"missing\": false\n        },\n        {\n          \"field\": \"mdc_job_s\",\n          \"minCount\": 1,\n          \"missing\": false\n        },\n        {\n          \"field\": \"mdc_jobRunId_s\",\n          \"minCount\": 1,\n          \"missing\": false\n        },\n        {\n          \"field\": \"service_s\",\n          \"minCount\": 1,\n          \"missing\": false\n        },\n        {\n          \"field\": \"timestamp_tdt\",\n          \"minCount\": 1,\n          \"missing\": false\n        }\n      ],\n      \"type\": \"facet\",\n      \"skip\": false,\n      \"licensed\": true,\n      \"secretSourceStageId\": \"890a1e71-6886-48a3-b923-5078706250ac\",\n      \"properties\": {\n        \"autoCreated\": true\n      }\n    },\n    {\n      \"type\": \"solr-query\",\n      \"id\": \"9b3d191e-0f45-4aee-99c7-bf5569586e90\",\n      \"httpMethod\": \"POST\",\n      \"allowFederatedSearch\": false,\n      \"type\": \"solr-query\",\n      \"skip\": false,\n      \"responseSignalsEnabled\": true,\n      \"licensed\": true,\n      \"secretSourceStageId\": \"9b3d191e-0f45-4aee-99c7-bf5569586e90\"\n    }\n  ],\n  \"properties\": {\n    \"secretSourcePipelineId\": \"system-logs-browser\"\n  }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{furl}}/api/apps/{{app}}/query-pipelines",
							"host": [
								"{{furl}}"
							],
							"path": [
								"api",
								"apps",
								"{{app}}",
								"query-pipelines"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get  query pipelines",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{furl}}/api/apps/{{app}}/query-pipelines",
							"host": [
								"{{furl}}"
							],
							"path": [
								"api",
								"apps",
								"{{app}}",
								"query-pipelines"
							]
						}
					},
					"response": [
						{
							"name": "example  query pipelines",
							"originalRequest": {
								"method": "GET",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{furl}}/api/apps/{{app}}/query-pipelines",
									"host": [
										"{{furl}}"
									],
									"path": [
										"api",
										"apps",
										"{{app}}",
										"query-pipelines"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Server",
									"value": "Jetty(9.4.19.v20190610)"
								},
								{
									"key": "fusion-request-id",
									"value": "dpGG4g7myj"
								},
								{
									"key": "Content-Type",
									"value": "application/json"
								},
								{
									"key": "Transfer-Encoding",
									"value": "chunked"
								}
							],
							"cookie": [],
							"body": "[\n    {\n        \"id\": \"SignalsBrowserAggregated\",\n        \"stages\": [\n            {\n                \"type\": \"set-params\",\n                \"id\": \"f2d\",\n                \"params\": [\n                    {\n                        \"key\": \"fq\",\n                        \"value\": \"timestamp_tdt:[NOW/MINUTE-1HOUR TO *]\",\n                        \"policy\": \"append\"\n                    }\n                ],\n                \"skip\": false,\n                \"label\": \"Recent docs\",\n                \"licensed\": true,\n                \"secretSourceStageId\": \"f2d\"\n            },\n            {\n                \"type\": \"set-params\",\n                \"id\": \"5v\",\n                \"params\": [\n                    {\n                        \"key\": \"q.alt\",\n                        \"value\": \"*:*\",\n                        \"policy\": \"default\"\n                    }\n                ],\n                \"skip\": false,\n                \"label\": \"q.alt\",\n                \"licensed\": true,\n                \"secretSourceStageId\": \"5v\"\n            },\n            {\n                \"type\": \"set-params\",\n                \"id\": \"bka\",\n                \"params\": [\n                    {\n                        \"key\": \"hl\",\n                        \"value\": \"on\",\n                        \"policy\": \"default\"\n                    },\n                    {\n                        \"key\": \"hl.fl\",\n                        \"value\": \"*\",\n                        \"policy\": \"default\"\n                    }\n                ],\n                \"skip\": false,\n                \"label\": \"hl params\",\n                \"licensed\": true,\n                \"secretSourceStageId\": \"bka\"\n            },\n            {\n                \"type\": \"set-params\",\n                \"id\": \"bg\",\n                \"params\": [\n                    {\n                        \"key\": \"fq\",\n                        \"value\": \"-query_orig_s:\\\"*:*\\\"\",\n                        \"policy\": \"append\"\n                    }\n                ],\n                \"skip\": false,\n                \"label\": \"Filter out noise\",\n                \"licensed\": true,\n                \"secretSourceStageId\": \"bg\"\n            },\n            {\n                \"type\": \"search-fields\",\n                \"id\": \"dac376e2-42f6-49df-8ad6-edf0d17c6d47\",\n                \"rows\": 10,\n                \"start\": 0,\n                \"queryFields\": [],\n                \"returnFields\": [\n                    \"*\",\n                    \"score\"\n                ],\n                \"skip\": false,\n                \"licensed\": true,\n                \"secretSourceStageId\": \"dac376e2-42f6-49df-8ad6-edf0d17c6d47\",\n                \"properties\": {\n                    \"autoCreated\": true\n                }\n            },\n            {\n                \"type\": \"facet\",\n                \"id\": \"b157e59d-af83-426b-a595-6e3d35c305a9\",\n                \"fieldFacets\": [\n                    {\n                        \"field\": \"aggr_count_i\",\n                        \"minCount\": 1,\n                        \"missing\": false\n                    },\n                    {\n                        \"field\": \"doc_id_s\",\n                        \"minCount\": 1,\n                        \"missing\": false\n                    },\n                    {\n                        \"field\": \"aggr_id_s\",\n                        \"minCount\": 1,\n                        \"missing\": false\n                    },\n                    {\n                        \"field\": \"aggr_type_s\",\n                        \"minCount\": 1,\n                        \"missing\": false\n                    },\n                    {\n                        \"field\": \"aggr_job_id_s\",\n                        \"minCount\": 1,\n                        \"missing\": false\n                    },\n                    {\n                        \"field\": \"flag_s\",\n                        \"minCount\": 1,\n                        \"missing\": false\n                    }\n                ],\n                \"skip\": false,\n                \"licensed\": true,\n                \"secretSourceStageId\": \"b157e59d-af83-426b-a595-6e3d35c305a9\",\n                \"properties\": {\n                    \"autoCreated\": true\n                }\n            },\n            {\n                \"type\": \"solr-query\",\n                \"id\": \"214e6d57-17d1-459e-884f-1d1b4071908a\",\n                \"httpMethod\": \"POST\",\n                \"allowFederatedSearch\": false,\n                \"skip\": false,\n                \"responseSignalsEnabled\": true,\n                \"licensed\": true,\n                \"secretSourceStageId\": \"214e6d57-17d1-459e-884f-1d1b4071908a\",\n                \"properties\": {\n                    \"autoCreated\": true\n                }\n            }\n        ],\n        \"properties\": {\n            \"secretSourcePipelineId\": \"SignalsBrowserAggregated\"\n        }\n    },\n    {\n        \"id\": \"test-question-answering-dual-fields\",\n        \"stages\": [\n            {\n                \"type\": \"search-fields\",\n                \"id\": \"19a70162-a7c7-43dc-813d-e231e0407a62\",\n                \"rows\": 10,\n                \"start\": 0,\n                \"queryFields\": [],\n                \"returnFields\": [\n                    \"*\",\n                    \"compressed_document_vector_s\",\n                    \"document_clusters_ss\",\n                    \"score\"\n                ],\n                \"skip\": false,\n                \"licensed\": true,\n                \"secretSourceStageId\": \"19a70162-a7c7-43dc-813d-e231e0407a62\"\n            },\n            {\n                \"type\": \"fusion-reranking\",\n                \"id\": \"90bf121e-3150-48aa-8506-32b4db6ff075\",\n                \"rowsFromSolrToRerank\": 500,\n                \"skip\": false,\n                \"licensed\": false,\n                \"secretSourceStageId\": \"90bf121e-3150-48aa-8506-32b4db6ff075\"\n            },\n            {\n                \"type\": \"tf-deep-encoding-query\",\n                \"id\": \"1db4bcc3-d3e5-4054-9bb6-25cc34aa9ebd\",\n                \"modelId\": \"sample_qna_model.zip\",\n                \"queryFeatureField\": \"q\",\n                \"vectorContextKey\": \"query_vector\",\n                \"clustersContextKey\": \"query_clusters\",\n                \"distancesContextKey\": \"query_distances\",\n                \"numClusters\": 0,\n                \"documentsClustersField\": \"question_clusters_ss\",\n                \"failOnError\": false,\n                \"storeInContext\": true,\n                \"skip\": false,\n                \"label\": \"Query Encoding\",\n                \"licensed\": false,\n                \"secretSourceStageId\": \"1db4bcc3-d3e5-4054-9bb6-25cc34aa9ebd\"\n            },\n            {\n                \"type\": \"stop-filter-query-stage\",\n                \"id\": \"aadd2ff8-f390-4fec-a304-5c7d5c835deb\",\n                \"inputParam\": \"q\",\n                \"stopWords\": \"a,about,actual,actually,am,an,and,answer,any,anyone,anything,anyway,are,ask,asked,asking,at,away,based,basically,be,been,being,btw,by,can,consider,considered,could,did,do,does,doing,done,especially,essentially,etc,feel,find,for,found,from,generally,get,getting,give,given,giving,go,goes,gone,got,guess,had,happen,happened,happening,has,have,having,he,hello,help,hence,her,here,hers,hey,him,his,hope,hoped,however,i,I'd,i'm,'m,'ll,'d,ie,if,im,in,into,is,it,its,just,keeping,kept,knew,know,let,like,likely,list,look,looked,looking,makes,making,maybe,me,mention,mentioned,might,mind,much,my,need,needed,of,off,on,onto,otherwise,our,ours,out,perhaps,please,possible,possibly,pretty,probably,provide,provided,question,quite,rather,really,regard,regarding,relatively,said,saw,say,saying,search,searching,see,seeing,seem,seemed,seeming,seems,seen,select,she,should,show,simply,so,some,somehow,something,specifically,still,such,suggest,suggested,sure,take,taken,taking,tell,thank,thanks,that,the,their,them,then,there,thereby,therefore,therein,these,they,thing,think,thinking,this,those,though,thought,through,throughout,thru,thus,to,too,took,totally,toward,towards,tried,try,trying,up,upon,us,use,used,using,usually,very,via,want,wanted,was,we,went,were,what,will,wish,wished,with,within,wonder,wondering,would,yet,you,your,yours\",\n                \"skip\": false,\n                \"licensed\": true,\n                \"secretSourceStageId\": \"aadd2ff8-f390-4fec-a304-5c7d5c835deb\"\n            },\n            {\n                \"type\": \"query-escaping-query-stage\",\n                \"id\": \"6e6e41dd-8469-41b1-a8c9-26bd7914338b\",\n                \"inputParam\": \"q\",\n                \"skip\": false,\n                \"licensed\": true,\n                \"secretSourceStageId\": \"6e6e41dd-8469-41b1-a8c9-26bd7914338b\"\n            },\n            {\n                \"type\": \"solr-query\",\n                \"id\": \"bb9efd24-25f2-4d41-b5b8-ff3836b6eb93\",\n                \"httpMethod\": \"POST\",\n                \"allowFederatedSearch\": false,\n                \"skip\": false,\n                \"responseSignalsEnabled\": true,\n                \"licensed\": true,\n                \"secretSourceStageId\": \"bb9efd24-25f2-4d41-b5b8-ff3836b6eb93\"\n            },\n            {\n                \"type\": \"per-result-vectors-distance\",\n                \"id\": \"b390fa2c-b114-4628-8039-7d25b8e4a4f1\",\n                \"queryVectorContextKey\": \"query_vector\",\n                \"documentVectorField\": \"compressed_question_vector_s\",\n                \"keepDocumentVectorField\": false,\n                \"distanceType\": \"cosine_similarity\",\n                \"documentDistanceResultField\": \"qq_distance\",\n                \"failOnError\": false,\n                \"requiredLicensedCapability\": \"fusion.ai.qa\",\n                \"skip\": false,\n                \"label\": \"QQ Vectors Distance\",\n                \"licensed\": false,\n                \"secretSourceStageId\": \"b390fa2c-b114-4628-8039-7d25b8e4a4f1\"\n            },\n            {\n                \"type\": \"per-result-vectors-distance\",\n                \"id\": \"00d948bb-d5aa-48fe-ad73-9522d300c34d\",\n                \"queryVectorContextKey\": \"query_vector\",\n                \"documentVectorField\": \"compressed_answer_vector_s\",\n                \"keepDocumentVectorField\": false,\n                \"distanceType\": \"cosine_similarity\",\n                \"documentDistanceResultField\": \"qa_distance\",\n                \"failOnError\": false,\n                \"requiredLicensedCapability\": \"fusion.ai.qa\",\n                \"skip\": false,\n                \"label\": \"QA Vectors Distance\",\n                \"licensed\": false,\n                \"secretSourceStageId\": \"00d948bb-d5aa-48fe-ad73-9522d300c34d\"\n            },\n            {\n                \"type\": \"response-math-expression\",\n                \"id\": \"e7f0e205-d5d2-41a3-9af9-90e0073797d0\",\n                \"expression\": \"0.2 * score / max_score + 0.4 * qq_distance + 0.4 * qa_distance\",\n                \"resultFieldName\": \"ensemble_score\",\n                \"requiredLicensedCapability\": \"fusion.ai.qa\",\n                \"skip\": false,\n                \"licensed\": false,\n                \"secretSourceStageId\": \"e7f0e205-d5d2-41a3-9af9-90e0073797d0\"\n            },\n            {\n                \"type\": \"result-doc-field-sorting\",\n                \"id\": \"58478fea-e6ab-4364-9fa4-6516f1545106\",\n                \"sortField\": \"ensemble_score\",\n                \"sortOrder\": \"desc\",\n                \"failOnError\": false,\n                \"skip\": false,\n                \"licensed\": false,\n                \"secretSourceStageId\": \"58478fea-e6ab-4364-9fa4-6516f1545106\"\n            }\n        ],\n        \"properties\": {\n            \"secretSourcePipelineId\": \"test-question-answering-dual-fields\"\n        }\n    },\n    {\n        \"id\": \"system-logs-browser\",\n        \"stages\": [\n            {\n                \"type\": \"set-params\",\n                \"id\": \"91n\",\n                \"params\": [\n                    {\n                        \"key\": \"sort\",\n                        \"value\": \"timestamp_tdt desc\",\n                        \"policy\": \"append\"\n                    }\n                ],\n                \"skip\": false,\n                \"label\": \"Sort Timestamp desc\",\n                \"licensed\": true,\n                \"secretSourceStageId\": \"91n\"\n            },\n            {\n                \"type\": \"set-params\",\n                \"id\": \"70l\",\n                \"params\": [\n                    {\n                        \"key\": \"pf\",\n                        \"value\": \"logmessage_txt^10 message_txt^10\",\n                        \"policy\": \"default\"\n                    }\n                ],\n                \"skip\": false,\n                \"label\": \"phrase field\",\n                \"licensed\": true,\n                \"secretSourceStageId\": \"70l\"\n            },\n            {\n                \"type\": \"set-params\",\n                \"id\": \"4oe\",\n                \"params\": [\n                    {\n                        \"key\": \"hl\",\n                        \"value\": \"on\",\n                        \"policy\": \"default\"\n                    },\n                    {\n                        \"key\": \"hl.fl\",\n                        \"value\": \"*\",\n                        \"policy\": \"default\"\n                    }\n                ],\n                \"skip\": false,\n                \"label\": \"HL params\",\n                \"licensed\": true,\n                \"secretSourceStageId\": \"4oe\"\n            },\n            {\n                \"type\": \"set-params\",\n                \"id\": \"wagj\",\n                \"params\": [\n                    {\n                        \"key\": \"q.alt\",\n                        \"value\": \"*:*\",\n                        \"policy\": \"default\"\n                    }\n                ],\n                \"skip\": false,\n                \"label\": \"Q.alt\",\n                \"licensed\": true,\n                \"secretSourceStageId\": \"wagj\"\n            },\n            {\n                \"type\": \"set-params\",\n                \"id\": \"67b\",\n                \"params\": [\n                    {\n                        \"key\": \"fq\",\n                        \"value\": \"timestamp_tdt:[NOW/MINUTE-5MINUTES TO *]\",\n                        \"policy\": \"append\"\n                    }\n                ],\n                \"skip\": false,\n                \"label\": \"Filter to recent messages\",\n                \"licensed\": true,\n                \"secretSourceStageId\": \"67b\"\n            },\n            {\n                \"type\": \"set-params\",\n                \"id\": \"59a\",\n                \"params\": [\n                    {\n                        \"key\": \"fq\",\n                        \"value\": \"-mdc_job_s:spark*\",\n                        \"policy\": \"append\"\n                    },\n                    {\n                        \"key\": \"fq\",\n                        \"value\": \"-cause_file_s:(Ignite* SparkJobTask.java GridClosureProcessor.java ComputeTaskAdapter.java)\",\n                        \"policy\": \"append\"\n                    },\n                    {\n                        \"key\": \"fq\",\n                        \"value\": \"-cause_class_s:(\\\"org.apache.ignite*\\\")\",\n                        \"policy\": \"append\"\n                    },\n                    {\n                        \"key\": \"fq\",\n                        \"value\": \"-file_s:(\\\"/opt/fusion/var/log/api/spark-driver-default.log\\\" \\\"/opt/lucidworks/fusion/4.2.6/var/log/api/spark-driver-default.log\\\")\",\n                        \"policy\": \"append\"\n                    },\n                    {\n                        \"key\": \"fq\",\n                        \"value\": \"-logger_class_s:(spark.client.SparkJobTask spark.job.SparkJobManager scheduler* \\\"apollo.component.DefaultSearchClusterRegistrar$SearchClusterWatcher\\\")\",\n                        \"policy\": \"append\"\n                    },\n                    {\n                        \"key\": \"fq\",\n                        \"value\": \"-level_s:INFO\",\n                        \"policy\": \"append\"\n                    }\n                ],\n                \"skip\": false,\n                \"label\": \"Filter out noise\",\n                \"licensed\": true,\n                \"secretSourceStageId\": \"59a\"\n            },\n            {\n                \"type\": \"set-params\",\n                \"id\": \"3zk\",\n                \"params\": [\n                    {\n                        \"key\": \"fq\",\n                        \"value\": \"-service_s:(proxy zookeeper agent)\",\n                        \"policy\": \"append\"\n                    }\n                ],\n                \"skip\": false,\n                \"label\": \"Filter out noisy services (proxy)\",\n                \"licensed\": true,\n                \"secretSourceStageId\": \"3zk\"\n            },\n            {\n                \"type\": \"text-tagger\",\n                \"id\": \"e8b8fa10-7215-4b55-8fc1-fc55224ec0d3\",\n                \"useEmbeddedSolrServer\": false,\n                \"paramToTag\": \"q\",\n                \"spell_corrections_enabled\": true,\n                \"phrase_boosting_enabled\": true,\n                \"tail_rewrites_enabled\": true,\n                \"phraseBoost\": 2,\n                \"phraseSlop\": 10,\n                \"synonymExpansionBoost\": 2,\n                \"synonym_expansion_enabled\": true,\n                \"overlaps\": \"ALL\",\n                \"params\": [],\n                \"skip\": true,\n                \"licensed\": true,\n                \"secretSourceStageId\": \"e8b8fa10-7215-4b55-8fc1-fc55224ec0d3\"\n            },\n            {\n                \"type\": \"recommendation\",\n                \"id\": \"0dbadf96-3871-48fc-acdd-3f7d47382cd3\",\n                \"numRecommendations\": 10,\n                \"numSignals\": 100,\n                \"aggrType\": \"click@doc_id,filters,query\",\n                \"boostId\": \"id\",\n                \"boostingMethod\": \"query-param\",\n                \"boostingParam\": \"boost\",\n                \"queryParams\": [\n                    {\n                        \"key\": \"qf\",\n                        \"value\": \"query_t\"\n                    },\n                    {\n                        \"key\": \"pf\",\n                        \"value\": \"query_t^50\"\n                    },\n                    {\n                        \"key\": \"pf\",\n                        \"value\": \"query_t~3^20\"\n                    },\n                    {\n                        \"key\": \"pf2\",\n                        \"value\": \"query_t^20\"\n                    },\n                    {\n                        \"key\": \"pf2\",\n                        \"value\": \"query_t~3^10\"\n                    },\n                    {\n                        \"key\": \"pf3\",\n                        \"value\": \"query_t^10\"\n                    },\n                    {\n                        \"key\": \"pf3\",\n                        \"value\": \"query_t~3^5\"\n                    },\n                    {\n                        \"key\": \"boost\",\n                        \"value\": \"map(query({!field f=query_s v=$q}),0,0,1,20)\"\n                    },\n                    {\n                        \"key\": \"mm\",\n                        \"value\": \"50%\"\n                    },\n                    {\n                        \"key\": \"defType\",\n                        \"value\": \"edismax\"\n                    },\n                    {\n                        \"key\": \"sort\",\n                        \"value\": \"score desc, weight_d desc\"\n                    }\n                ],\n                \"rollupField\": \"doc_id_s\",\n                \"rollupWeightField\": \"weight_d\",\n                \"weightExpression\": \"math:log(weight_d + 1) + 10 * math:log(score+1)\",\n                \"rollupWeightStrategy\": \"max\",\n                \"skip\": true,\n                \"licensed\": true,\n                \"secretSourceStageId\": \"0dbadf96-3871-48fc-acdd-3f7d47382cd3\"\n            },\n            {\n                \"type\": \"search-fields\",\n                \"id\": \"36d5a725-9e19-4b3b-8593-041142bf7993\",\n                \"rows\": 10,\n                \"start\": 0,\n                \"queryFields\": [\n                    {\n                        \"field\": \"_text_\",\n                        \"boost\": 0.01\n                    },\n                    {\n                        \"field\": \"logmessage_txt\",\n                        \"boost\": 1\n                    },\n                    {\n                        \"field\": \"message_txt\",\n                        \"boost\": 1\n                    }\n                ],\n                \"returnFields\": [\n                    \"*\",\n                    \"score\"\n                ],\n                \"skip\": false,\n                \"licensed\": true,\n                \"secretSourceStageId\": \"36d5a725-9e19-4b3b-8593-041142bf7993\"\n            },\n            {\n                \"type\": \"facet\",\n                \"id\": \"890a1e71-6886-48a3-b923-5078706250ac\",\n                \"fieldFacets\": [\n                    {\n                        \"field\": \"file_s\",\n                        \"minCount\": 1,\n                        \"missing\": false\n                    },\n                    {\n                        \"field\": \"level_s\",\n                        \"minCount\": 1,\n                        \"missing\": false\n                    },\n                    {\n                        \"field\": \"mdc_datasourceId_s\",\n                        \"minCount\": 1,\n                        \"missing\": false\n                    },\n                    {\n                        \"field\": \"mdc_job_s\",\n                        \"minCount\": 1,\n                        \"missing\": false\n                    },\n                    {\n                        \"field\": \"mdc_jobRunId_s\",\n                        \"minCount\": 1,\n                        \"missing\": false\n                    },\n                    {\n                        \"field\": \"service_s\",\n                        \"minCount\": 1,\n                        \"missing\": false\n                    },\n                    {\n                        \"field\": \"timestamp_tdt\",\n                        \"minCount\": 1,\n                        \"missing\": false\n                    }\n                ],\n                \"skip\": false,\n                \"licensed\": true,\n                \"secretSourceStageId\": \"890a1e71-6886-48a3-b923-5078706250ac\",\n                \"properties\": {\n                    \"autoCreated\": true\n                }\n            },\n            {\n                \"type\": \"query-rules\",\n                \"id\": \"3f3ad0f7-1b82-415f-a946-9e5224ea0ccc\",\n                \"useEmbeddedSolrServer\": false,\n                \"useOriginalQueryIfNoRulesMatch\": true,\n                \"matchPartialFilterQueries\": true,\n                \"handler\": \"select\",\n                \"method\": \"POST\",\n                \"ruleLimit\": \"100\",\n                \"params\": [],\n                \"hierarchicalFilter\": [],\n                \"headers\": [],\n                \"skip\": true,\n                \"licensed\": true,\n                \"secretSourceStageId\": \"3f3ad0f7-1b82-415f-a946-9e5224ea0ccc\"\n            },\n            {\n                \"type\": \"solr-query\",\n                \"id\": \"9b3d191e-0f45-4aee-99c7-bf5569586e90\",\n                \"httpMethod\": \"POST\",\n                \"allowFederatedSearch\": false,\n                \"skip\": false,\n                \"responseSignalsEnabled\": true,\n                \"licensed\": true,\n                \"secretSourceStageId\": \"9b3d191e-0f45-4aee-99c7-bf5569586e90\"\n            },\n            {\n                \"type\": \"query-rules-augment-response\",\n                \"id\": \"7a3c685a-aa5e-4d99-bf92-ad9d326fc524\",\n                \"facetLabelParseDelimiter\": \"||\",\n                \"skip\": true,\n                \"licensed\": true,\n                \"secretSourceStageId\": \"7a3c685a-aa5e-4d99-bf92-ad9d326fc524\"\n            }\n        ],\n        \"properties\": {\n            \"secretSourcePipelineId\": \"system-logs-browser\"\n        }\n    },\n    {\n        \"id\": \"zipcodes\",\n        \"stages\": [\n            {\n                \"type\": \"text-tagger\",\n                \"id\": \"aade1f6f-9922-4c10-a342-8c24fed90cfe\",\n                \"useEmbeddedSolrServer\": false,\n                \"paramToTag\": \"q\",\n                \"spell_corrections_enabled\": true,\n                \"phrase_boosting_enabled\": true,\n                \"tail_rewrites_enabled\": true,\n                \"phraseBoost\": 2,\n                \"phraseSlop\": 10,\n                \"synonymExpansionBoost\": 2,\n                \"synonym_expansion_enabled\": true,\n                \"overlaps\": \"ALL\",\n                \"params\": [],\n                \"skip\": false,\n                \"licensed\": true,\n                \"secretSourceStageId\": \"aade1f6f-9922-4c10-a342-8c24fed90cfe\"\n            },\n            {\n                \"type\": \"recommendation\",\n                \"id\": \"986a3a65-f349-4e02-97f4-7e25652cf939\",\n                \"numRecommendations\": 10,\n                \"numSignals\": 100,\n                \"aggrType\": \"click@doc_id,filters,query\",\n                \"boostId\": \"id\",\n                \"boostingMethod\": \"query-param\",\n                \"boostingParam\": \"boost\",\n                \"queryParams\": [\n                    {\n                        \"key\": \"qf\",\n                        \"value\": \"query_t\"\n                    },\n                    {\n                        \"key\": \"pf\",\n                        \"value\": \"query_t^50\"\n                    },\n                    {\n                        \"key\": \"pf\",\n                        \"value\": \"query_t~3^20\"\n                    },\n                    {\n                        \"key\": \"pf2\",\n                        \"value\": \"query_t^20\"\n                    },\n                    {\n                        \"key\": \"pf2\",\n                        \"value\": \"query_t~3^10\"\n                    },\n                    {\n                        \"key\": \"pf3\",\n                        \"value\": \"query_t^10\"\n                    },\n                    {\n                        \"key\": \"pf3\",\n                        \"value\": \"query_t~3^5\"\n                    },\n                    {\n                        \"key\": \"boost\",\n                        \"value\": \"map(query({!field f=query_s v=$q}),0,0,1,20)\"\n                    },\n                    {\n                        \"key\": \"mm\",\n                        \"value\": \"50%\"\n                    },\n                    {\n                        \"key\": \"defType\",\n                        \"value\": \"edismax\"\n                    },\n                    {\n                        \"key\": \"sort\",\n                        \"value\": \"score desc, weight_d desc\"\n                    }\n                ],\n                \"rollupField\": \"doc_id_s\",\n                \"rollupWeightField\": \"weight_d\",\n                \"weightExpression\": \"math:log(weight_d + 1) + 10 * math:log(score+1)\",\n                \"rollupWeightStrategy\": \"max\",\n                \"skip\": false,\n                \"licensed\": true,\n                \"secretSourceStageId\": \"986a3a65-f349-4e02-97f4-7e25652cf939\"\n            },\n            {\n                \"type\": \"search-fields\",\n                \"id\": \"c9623e60-446f-48ae-8e96-dd9b56c90057\",\n                \"rows\": 10,\n                \"start\": 0,\n                \"queryFields\": [],\n                \"returnFields\": [\n                    \"*\",\n                    \"score\"\n                ],\n                \"skip\": false,\n                \"licensed\": true,\n                \"secretSourceStageId\": \"c9623e60-446f-48ae-8e96-dd9b56c90057\"\n            },\n            {\n                \"type\": \"facet\",\n                \"id\": \"b8feb70d-3609-46ce-91e7-1081b424ced5\",\n                \"fieldFacets\": [],\n                \"skip\": false,\n                \"licensed\": true,\n                \"secretSourceStageId\": \"b8feb70d-3609-46ce-91e7-1081b424ced5\"\n            },\n            {\n                \"type\": \"query-rules\",\n                \"id\": \"c5b3e6de-83e8-4eff-9333-1ab48aa1fe32\",\n                \"useEmbeddedSolrServer\": false,\n                \"useOriginalQueryIfNoRulesMatch\": true,\n                \"matchPartialFilterQueries\": true,\n                \"handler\": \"select\",\n                \"method\": \"POST\",\n                \"ruleLimit\": \"100\",\n                \"params\": [],\n                \"hierarchicalFilter\": [],\n                \"headers\": [],\n                \"skip\": false,\n                \"licensed\": true,\n                \"secretSourceStageId\": \"c5b3e6de-83e8-4eff-9333-1ab48aa1fe32\"\n            },\n            {\n                \"type\": \"solr-query\",\n                \"id\": \"2c37e300-e657-478c-bb60-9c021c31e264\",\n                \"httpMethod\": \"POST\",\n                \"allowFederatedSearch\": false,\n                \"skip\": false,\n                \"responseSignalsEnabled\": true,\n                \"licensed\": true,\n                \"secretSourceStageId\": \"2c37e300-e657-478c-bb60-9c021c31e264\"\n            },\n            {\n                \"type\": \"query-rules-augment-response\",\n                \"id\": \"8dd8b237-47e6-4d3b-a315-bf3f5b3a5595\",\n                \"facetLabelParseDelimiter\": \"||\",\n                \"skip\": false,\n                \"licensed\": true,\n                \"secretSourceStageId\": \"8dd8b237-47e6-4d3b-a315-bf3f5b3a5595\"\n            }\n        ],\n        \"properties\": {\n            \"secretSourcePipelineId\": \"zipcodes\"\n        }\n    },\n    {\n        \"id\": \"name-browser\",\n        \"stages\": [\n            {\n                \"type\": \"set-params\",\n                \"id\": \"nzv\",\n                \"params\": [\n                    {\n                        \"key\": \"q.alt\",\n                        \"value\": \"*:*\",\n                        \"policy\": \"default\"\n                    }\n                ],\n                \"skip\": false,\n                \"label\": \"q.alt\",\n                \"licensed\": true,\n                \"secretSourceStageId\": \"nzv\"\n            },\n            {\n                \"type\": \"set-params\",\n                \"id\": \"v8g\",\n                \"params\": [\n                    {\n                        \"key\": \"hl\",\n                        \"value\": \"on\",\n                        \"policy\": \"default\"\n                    },\n                    {\n                        \"key\": \"hl.fl\",\n                        \"value\": \"*\",\n                        \"policy\": \"default\"\n                    }\n                ],\n                \"skip\": false,\n                \"label\": \"hl params\",\n                \"licensed\": true,\n                \"secretSourceStageId\": \"v8g\"\n            },\n            {\n                \"type\": \"set-params\",\n                \"id\": \"2i\",\n                \"params\": [\n                    {\n                        \"key\": \"fq\",\n                        \"value\": \"_lw_data_source_s:(\\\"aero-names-found\\\" \\\"aero-names-official\\\")\",\n                        \"policy\": \"append\"\n                    }\n                ],\n                \"skip\": false,\n                \"label\": \"filter to name records\",\n                \"licensed\": true,\n                \"secretSourceStageId\": \"2i\"\n            },\n            {\n                \"type\": \"text-tagger\",\n                \"id\": \"03a66367-40a3-4534-a952-fc33f55dc64f\",\n                \"useEmbeddedSolrServer\": false,\n                \"paramToTag\": \"q\",\n                \"spell_corrections_enabled\": true,\n                \"phrase_boosting_enabled\": true,\n                \"tail_rewrites_enabled\": true,\n                \"phraseBoost\": 2,\n                \"phraseSlop\": 10,\n                \"synonymExpansionBoost\": 2,\n                \"synonym_expansion_enabled\": true,\n                \"overlaps\": \"ALL\",\n                \"params\": [],\n                \"skip\": true,\n                \"licensed\": true,\n                \"secretSourceStageId\": \"03a66367-40a3-4534-a952-fc33f55dc64f\",\n                \"properties\": {\n                    \"autoCreated\": true\n                }\n            },\n            {\n                \"type\": \"recommendation\",\n                \"id\": \"55fda8d8-9a3a-4dcf-9a02-ebd6628be1b2\",\n                \"numRecommendations\": 10,\n                \"numSignals\": 100,\n                \"aggrType\": \"click@doc_id,filters,query\",\n                \"boostId\": \"id\",\n                \"boostingMethod\": \"query-param\",\n                \"boostingParam\": \"boost\",\n                \"queryParams\": [\n                    {\n                        \"key\": \"qf\",\n                        \"value\": \"query_t\"\n                    },\n                    {\n                        \"key\": \"pf\",\n                        \"value\": \"query_t^50\"\n                    },\n                    {\n                        \"key\": \"pf\",\n                        \"value\": \"query_t~3^20\"\n                    },\n                    {\n                        \"key\": \"pf2\",\n                        \"value\": \"query_t^20\"\n                    },\n                    {\n                        \"key\": \"pf2\",\n                        \"value\": \"query_t~3^10\"\n                    },\n                    {\n                        \"key\": \"pf3\",\n                        \"value\": \"query_t^10\"\n                    },\n                    {\n                        \"key\": \"pf3\",\n                        \"value\": \"query_t~3^5\"\n                    },\n                    {\n                        \"key\": \"boost\",\n                        \"value\": \"map(query({!field f=query_s v=$q}),0,0,1,20)\"\n                    },\n                    {\n                        \"key\": \"mm\",\n                        \"value\": \"50%\"\n                    },\n                    {\n                        \"key\": \"defType\",\n                        \"value\": \"edismax\"\n                    },\n                    {\n                        \"key\": \"sort\",\n                        \"value\": \"score desc, weight_d desc\"\n                    }\n                ],\n                \"rollupField\": \"doc_id_s\",\n                \"rollupWeightField\": \"weight_d\",\n                \"weightExpression\": \"math:log(weight_d + 1) + 10 * math:log(score+1)\",\n                \"rollupWeightStrategy\": \"max\",\n                \"skip\": true,\n                \"licensed\": true,\n                \"secretSourceStageId\": \"55fda8d8-9a3a-4dcf-9a02-ebd6628be1b2\",\n                \"properties\": {\n                    \"autoCreated\": true\n                }\n            },\n            {\n                \"type\": \"search-fields\",\n                \"id\": \"5f62c085-b6ce-4213-915b-807ec20ee2ab\",\n                \"rows\": 10,\n                \"start\": 0,\n                \"queryFields\": [\n                    {\n                        \"field\": \"full_name_t\",\n                        \"boost\": 20\n                    },\n                    {\n                        \"field\": \"first_name_t\"\n                    },\n                    {\n                        \"field\": \"flast_t\"\n                    },\n                    {\n                        \"field\": \"fml_t\"\n                    },\n                    {\n                        \"field\": \"last_name_t\"\n                    },\n                    {\n                        \"field\": \"nickname_t\"\n                    },\n                    {\n                        \"field\": \"fmlast_t\"\n                    }\n                ],\n                \"returnFields\": [\n                    \"id\",\n                    \"score\",\n                    \"name_t\",\n                    \"foundName_t\",\n                    \"full_name_t\",\n                    \"first_name_t\",\n                    \"flast_t\",\n                    \"fml_t\",\n                    \"last_name_t\",\n                    \"nickname_t\",\n                    \"fmlast_t\"\n                ],\n                \"skip\": false,\n                \"licensed\": true,\n                \"secretSourceStageId\": \"5f62c085-b6ce-4213-915b-807ec20ee2ab\",\n                \"properties\": {\n                    \"autoCreated\": true\n                }\n            },\n            {\n                \"type\": \"facet\",\n                \"id\": \"41f079ef-44d6-4b3c-a413-623db5fb2b86\",\n                \"fieldFacets\": [\n                    {\n                        \"field\": \"_lw_data_source_s\",\n                        \"minCount\": 1,\n                        \"missing\": false\n                    }\n                ],\n                \"skip\": false,\n                \"licensed\": true,\n                \"secretSourceStageId\": \"41f079ef-44d6-4b3c-a413-623db5fb2b86\",\n                \"properties\": {\n                    \"autoCreated\": true\n                }\n            },\n            {\n                \"type\": \"query-rules\",\n                \"id\": \"cdae372e-59ad-4f87-8a64-044878780fb4\",\n                \"useEmbeddedSolrServer\": false,\n                \"useOriginalQueryIfNoRulesMatch\": true,\n                \"matchPartialFilterQueries\": true,\n                \"handler\": \"select\",\n                \"method\": \"POST\",\n                \"ruleLimit\": \"100\",\n                \"params\": [],\n                \"hierarchicalFilter\": [],\n                \"headers\": [],\n                \"skip\": true,\n                \"licensed\": true,\n                \"secretSourceStageId\": \"cdae372e-59ad-4f87-8a64-044878780fb4\",\n                \"properties\": {\n                    \"autoCreated\": true\n                }\n            },\n            {\n                \"type\": \"solr-query\",\n                \"id\": \"9b76bb1f-7cce-42fd-b976-da1c9443445f\",\n                \"httpMethod\": \"POST\",\n                \"allowFederatedSearch\": false,\n                \"skip\": false,\n                \"responseSignalsEnabled\": true,\n                \"licensed\": true,\n                \"secretSourceStageId\": \"9b76bb1f-7cce-42fd-b976-da1c9443445f\",\n                \"properties\": {\n                    \"autoCreated\": true\n                }\n            },\n            {\n                \"type\": \"query-rules-augment-response\",\n                \"id\": \"1d288d72-7a55-4b05-87f3-5813839fdd01\",\n                \"facetLabelParseDelimiter\": \"||\",\n                \"skip\": true,\n                \"licensed\": true,\n                \"secretSourceStageId\": \"1d288d72-7a55-4b05-87f3-5813839fdd01\",\n                \"properties\": {\n                    \"autoCreated\": true\n                }\n            }\n        ],\n        \"properties\": {\n            \"secretSourcePipelineId\": \"name-browser\"\n        }\n    },\n    {\n        \"id\": \"upval-browser\",\n        \"stages\": [\n            {\n                \"type\": \"landing-pages\",\n                \"id\": \"ln\",\n                \"queryParam\": \"q\",\n                \"matchCount\": 1,\n                \"rules\": [\n                    {\n                        \"keyword\": \"test\",\n                        \"mode\": \"match\",\n                        \"url\": \"https://www.acme-yyyy.com\"\n                    }\n                ],\n                \"skip\": true,\n                \"label\": \"Test landing page\",\n                \"licensed\": true,\n                \"secretSourceStageId\": \"ln\"\n            },\n            {\n                \"type\": \"set-params\",\n                \"id\": \"z2\",\n                \"params\": [\n                    {\n                        \"key\": \"fq\",\n                        \"value\": \"dcterms_audience_s:(children enfants scientists)\",\n                        \"policy\": \"append\"\n                    }\n                ],\n                \"skip\": true,\n                \"label\": \"filter to audience\",\n                \"licensed\": true,\n                \"secretSourceStageId\": \"z2\"\n            },\n            {\n                \"type\": \"set-params\",\n                \"id\": \"rc8\",\n                \"params\": [\n                    {\n                        \"key\": \"fq\",\n                        \"value\": \"dcterms_subject_s:(\\\"Home education\\\" \\\"ducation  domicile\\\" \\\"agriculture\\\")\",\n                        \"policy\": \"append\"\n                    }\n                ],\n                \"skip\": true,\n                \"label\": \"Filter to specific dcterms values\",\n                \"licensed\": true,\n                \"secretSourceStageId\": \"rc8\"\n            },\n            {\n                \"type\": \"set-params\",\n                \"id\": \"lxuo\",\n                \"params\": [\n                    {\n                        \"key\": \"fq\",\n                        \"value\": \"_lw_data_source_s:\\\"ca-gov-parsing-test\\\"\",\n                        \"policy\": \"append\"\n                    }\n                ],\n                \"skip\": true,\n                \"label\": \"filter to datasource\",\n                \"licensed\": true,\n                \"secretSourceStageId\": \"lxuo\"\n            },\n            {\n                \"type\": \"set-params\",\n                \"id\": \"2ud\",\n                \"params\": [\n                    {\n                        \"key\": \"hl\",\n                        \"value\": \"on\",\n                        \"policy\": \"default\"\n                    },\n                    {\n                        \"key\": \"hl.fl\",\n                        \"value\": \"*\",\n                        \"policy\": \"default\"\n                    },\n                    {\n                        \"key\": \"hl.snippets\",\n                        \"value\": \"3\",\n                        \"policy\": \"default\"\n                    }\n                ],\n                \"skip\": false,\n                \"label\": \"hl params\",\n                \"licensed\": true,\n                \"secretSourceStageId\": \"2ud\"\n            },\n            {\n                \"type\": \"set-params\",\n                \"id\": \"0o\",\n                \"params\": [\n                    {\n                        \"key\": \"q.alt\",\n                        \"value\": \"*:*\",\n                        \"policy\": \"default\"\n                    }\n                ],\n                \"skip\": false,\n                \"label\": \"q.alt\",\n                \"licensed\": true,\n                \"secretSourceStageId\": \"0o\"\n            },\n            {\n                \"type\": \"search-fields\",\n                \"id\": \"f6e037d0-4bd4-4757-99fe-fdf4c160f7c9\",\n                \"rows\": 10,\n                \"start\": 0,\n                \"queryFields\": [\n                    {\n                        \"field\": \"title_t\",\n                        \"boost\": 5\n                    },\n                    {\n                        \"field\": \"_text_\",\n                        \"boost\": 0.01\n                    },\n                    {\n                        \"field\": \"body_t\",\n                        \"boost\": 1\n                    },\n                    {\n                        \"field\": \"description_t\",\n                        \"boost\": 3\n                    },\n                    {\n                        \"field\": \"keywords_txt\",\n                        \"boost\": 5\n                    }\n                ],\n                \"returnFields\": [\n                    \"id\",\n                    \"title_t\",\n                    \"score\",\n                    \"description_t\",\n                    \"keywords_txt\",\n                    \"_lw_data_source_s\",\n                    \"fetchedDate_dt\",\n                    \"_lw_batch_id_s\"\n                ],\n                \"skip\": false,\n                \"licensed\": true,\n                \"secretSourceStageId\": \"f6e037d0-4bd4-4757-99fe-fdf4c160f7c9\"\n            },\n            {\n                \"type\": \"javascript-query\",\n                \"id\": \"pn\",\n                \"script\": \"function(request, response, ctx){\\n\\n  var keys = ctx.getProperties();\\n  logger.warn(\\\"------------ keys: \\\" + keys);\\n  var lpages = ctx.getProperty(\\\"landing-pages\\\");\\n  logger.warn(\\\"------------ lpages: \\\" + lpages);\\n\\n  request.addParam(\\\"lpages\\\", lpages);\\n\\n  logger.warn(\\\"---------- TEST END SEAN ----------- \\\");\\n    \\n}\\n\",\n                \"shareState\": false,\n                \"skip\": true,\n                \"label\": \"Test response\",\n                \"licensed\": true,\n                \"secretSourceStageId\": \"pn\"\n            },\n            {\n                \"type\": \"set-params\",\n                \"id\": \"cki\",\n                \"params\": [\n                    {\n                        \"key\": \"qf\",\n                        \"value\": \"title_t^5 url_t^4 description_t^3 body_t _text_$0.01\",\n                        \"policy\": \"default\"\n                    },\n                    {\n                        \"key\": \"fl\",\n                        \"value\": \"id score title_t description_t fetchedDate_dt \",\n                        \"policy\": \"default\"\n                    }\n                ],\n                \"skip\": true,\n                \"label\": \"Set Query Fields params\",\n                \"licensed\": true,\n                \"secretSourceStageId\": \"cki\"\n            },\n            {\n                \"type\": \"facet\",\n                \"id\": \"8e04cae3-41c7-44d2-894d-804800269229\",\n                \"fieldFacets\": [\n                    {\n                        \"field\": \"_lw_batch_id_s\",\n                        \"minCount\": 1,\n                        \"missing\": false\n                    },\n                    {\n                        \"field\": \"_lw_data_source_s\",\n                        \"minCount\": 1,\n                        \"missing\": false\n                    },\n                    {\n                        \"field\": \"fetchedDate_dt\",\n                        \"minCount\": 1,\n                        \"missing\": false\n                    },\n                    {\n                        \"field\": \"mimeType_s\",\n                        \"minCount\": 1,\n                        \"missing\": false\n                    },\n                    {\n                        \"field\": \"aaa_s\",\n                        \"minCount\": 1,\n                        \"missing\": false\n                    },\n                    {\n                        \"field\": \"parent_s\",\n                        \"minCount\": 1,\n                        \"missing\": false\n                    },\n                    {\n                        \"field\": \"length_l\",\n                        \"minCount\": 1,\n                        \"missing\": false\n                    }\n                ],\n                \"skip\": false,\n                \"licensed\": true,\n                \"secretSourceStageId\": \"8e04cae3-41c7-44d2-894d-804800269229\",\n                \"properties\": {\n                    \"autoCreated\": true\n                }\n            },\n            {\n                \"type\": \"text-tagger\",\n                \"id\": \"788fa5e2-6691-4121-98e1-eb3cf81e2805\",\n                \"useEmbeddedSolrServer\": false,\n                \"paramToTag\": \"q\",\n                \"spell_corrections_enabled\": true,\n                \"phrase_boosting_enabled\": true,\n                \"tail_rewrites_enabled\": true,\n                \"phraseBoost\": 2,\n                \"phraseSlop\": 10,\n                \"synonymExpansionBoost\": 2,\n                \"synonym_expansion_enabled\": true,\n                \"overlaps\": \"ALL\",\n                \"params\": [],\n                \"skip\": true,\n                \"licensed\": true,\n                \"secretSourceStageId\": \"788fa5e2-6691-4121-98e1-eb3cf81e2805\"\n            },\n            {\n                \"type\": \"recommendation\",\n                \"id\": \"cdd8455f-1039-47b6-a0e8-137809589ce5\",\n                \"numRecommendations\": 10,\n                \"numSignals\": 100,\n                \"aggrType\": \"click@doc_id,filters,query\",\n                \"boostId\": \"id\",\n                \"boostingMethod\": \"query-param\",\n                \"boostingParam\": \"boost\",\n                \"queryParams\": [\n                    {\n                        \"key\": \"qf\",\n                        \"value\": \"query_t\"\n                    },\n                    {\n                        \"key\": \"pf\",\n                        \"value\": \"query_t^50\"\n                    },\n                    {\n                        \"key\": \"pf\",\n                        \"value\": \"query_t~3^20\"\n                    },\n                    {\n                        \"key\": \"pf2\",\n                        \"value\": \"query_t^20\"\n                    },\n                    {\n                        \"key\": \"pf2\",\n                        \"value\": \"query_t~3^10\"\n                    },\n                    {\n                        \"key\": \"pf3\",\n                        \"value\": \"query_t^10\"\n                    },\n                    {\n                        \"key\": \"pf3\",\n                        \"value\": \"query_t~3^5\"\n                    },\n                    {\n                        \"key\": \"boost\",\n                        \"value\": \"map(query({!field f=query_s v=$q}),0,0,1,20)\"\n                    },\n                    {\n                        \"key\": \"mm\",\n                        \"value\": \"50%\"\n                    },\n                    {\n                        \"key\": \"defType\",\n                        \"value\": \"edismax\"\n                    },\n                    {\n                        \"key\": \"sort\",\n                        \"value\": \"score desc, weight_d desc\"\n                    }\n                ],\n                \"rollupField\": \"doc_id_s\",\n                \"rollupWeightField\": \"weight_d\",\n                \"weightExpression\": \"math:log(weight_d + 1) + 10 * math:log(score+1)\",\n                \"rollupWeightStrategy\": \"max\",\n                \"skip\": true,\n                \"licensed\": true,\n                \"secretSourceStageId\": \"cdd8455f-1039-47b6-a0e8-137809589ce5\"\n            },\n            {\n                \"type\": \"query-rules\",\n                \"id\": \"41dd877a-c9a7-4f70-a7bf-25b3b735d961\",\n                \"useEmbeddedSolrServer\": false,\n                \"useOriginalQueryIfNoRulesMatch\": true,\n                \"matchPartialFilterQueries\": true,\n                \"handler\": \"select\",\n                \"method\": \"POST\",\n                \"ruleLimit\": \"100\",\n                \"params\": [],\n                \"hierarchicalFilter\": [],\n                \"headers\": [],\n                \"skip\": true,\n                \"licensed\": true,\n                \"secretSourceStageId\": \"41dd877a-c9a7-4f70-a7bf-25b3b735d961\"\n            },\n            {\n                \"type\": \"solr-query\",\n                \"id\": \"a7c7886d-229c-469d-9802-1593ad8adb9f\",\n                \"httpMethod\": \"POST\",\n                \"allowFederatedSearch\": false,\n                \"skip\": false,\n                \"responseSignalsEnabled\": true,\n                \"licensed\": true,\n                \"secretSourceStageId\": \"a7c7886d-229c-469d-9802-1593ad8adb9f\"\n            },\n            {\n                \"type\": \"query-rules-augment-response\",\n                \"id\": \"7bacff2b-cf35-4524-8f91-14815b82edcd\",\n                \"facetLabelParseDelimiter\": \"||\",\n                \"skip\": true,\n                \"licensed\": true,\n                \"secretSourceStageId\": \"7bacff2b-cf35-4524-8f91-14815b82edcd\"\n            },\n            {\n                \"type\": \"query-logging\",\n                \"id\": \"ey2\",\n                \"detailed\": true,\n                \"skip\": true,\n                \"label\": \"test logging\",\n                \"licensed\": true,\n                \"secretSourceStageId\": \"ey2\"\n            }\n        ],\n        \"properties\": {\n            \"secretSourcePipelineId\": \"upval-browser\"\n        }\n    },\n    {\n        \"id\": \"SignalsBrowser\",\n        \"stages\": [\n            {\n                \"type\": \"set-params\",\n                \"id\": \"f2d\",\n                \"params\": [\n                    {\n                        \"key\": \"fq\",\n                        \"value\": \"timestamp_tdt:[NOW/MINUTE-1HOUR TO *]\",\n                        \"policy\": \"append\"\n                    }\n                ],\n                \"skip\": false,\n                \"label\": \"Recent docs\",\n                \"licensed\": true,\n                \"secretSourceStageId\": \"f2d\"\n            },\n            {\n                \"type\": \"set-params\",\n                \"id\": \"5v\",\n                \"params\": [\n                    {\n                        \"key\": \"q.alt\",\n                        \"value\": \"*:*\",\n                        \"policy\": \"default\"\n                    }\n                ],\n                \"skip\": false,\n                \"label\": \"q.alt\",\n                \"licensed\": true,\n                \"secretSourceStageId\": \"5v\"\n            },\n            {\n                \"type\": \"set-params\",\n                \"id\": \"bka\",\n                \"params\": [\n                    {\n                        \"key\": \"hl\",\n                        \"value\": \"on\",\n                        \"policy\": \"default\"\n                    },\n                    {\n                        \"key\": \"hl.fl\",\n                        \"value\": \"*\",\n                        \"policy\": \"default\"\n                    }\n                ],\n                \"skip\": false,\n                \"label\": \"hl params\",\n                \"licensed\": true,\n                \"secretSourceStageId\": \"bka\"\n            },\n            {\n                \"type\": \"set-params\",\n                \"id\": \"bg\",\n                \"params\": [\n                    {\n                        \"key\": \"fq\",\n                        \"value\": \"-query_orig_s:\\\"*:*\\\"\",\n                        \"policy\": \"append\"\n                    }\n                ],\n                \"skip\": false,\n                \"label\": \"Filter out noise\",\n                \"licensed\": true,\n                \"secretSourceStageId\": \"bg\"\n            },\n            {\n                \"type\": \"text-tagger\",\n                \"id\": \"9c95f6bf-2607-4b16-b243-aac319db7b98\",\n                \"useEmbeddedSolrServer\": false,\n                \"paramToTag\": \"q\",\n                \"spell_corrections_enabled\": true,\n                \"phrase_boosting_enabled\": true,\n                \"tail_rewrites_enabled\": true,\n                \"phraseBoost\": 2,\n                \"phraseSlop\": 10,\n                \"synonymExpansionBoost\": 2,\n                \"synonym_expansion_enabled\": true,\n                \"overlaps\": \"ALL\",\n                \"params\": [],\n                \"skip\": true,\n                \"licensed\": true,\n                \"secretSourceStageId\": \"9c95f6bf-2607-4b16-b243-aac319db7b98\",\n                \"properties\": {\n                    \"autoCreated\": true\n                }\n            },\n            {\n                \"type\": \"recommendation\",\n                \"id\": \"a51c10bc-7d66-43c5-81a3-f57b87413574\",\n                \"numRecommendations\": 10,\n                \"numSignals\": 100,\n                \"aggrType\": \"click@doc_id,filters,query\",\n                \"boostId\": \"id\",\n                \"boostingMethod\": \"query-param\",\n                \"boostingParam\": \"boost\",\n                \"queryParams\": [\n                    {\n                        \"key\": \"qf\",\n                        \"value\": \"query_t\"\n                    },\n                    {\n                        \"key\": \"pf\",\n                        \"value\": \"query_t^50\"\n                    },\n                    {\n                        \"key\": \"pf\",\n                        \"value\": \"query_t~3^20\"\n                    },\n                    {\n                        \"key\": \"pf2\",\n                        \"value\": \"query_t^20\"\n                    },\n                    {\n                        \"key\": \"pf2\",\n                        \"value\": \"query_t~3^10\"\n                    },\n                    {\n                        \"key\": \"pf3\",\n                        \"value\": \"query_t^10\"\n                    },\n                    {\n                        \"key\": \"pf3\",\n                        \"value\": \"query_t~3^5\"\n                    },\n                    {\n                        \"key\": \"boost\",\n                        \"value\": \"map(query({!field f=query_s v=$q}),0,0,1,20)\"\n                    },\n                    {\n                        \"key\": \"mm\",\n                        \"value\": \"50%\"\n                    },\n                    {\n                        \"key\": \"defType\",\n                        \"value\": \"edismax\"\n                    },\n                    {\n                        \"key\": \"sort\",\n                        \"value\": \"score desc, weight_d desc\"\n                    }\n                ],\n                \"rollupField\": \"doc_id_s\",\n                \"rollupWeightField\": \"weight_d\",\n                \"weightExpression\": \"math:log(weight_d + 1) + 10 * math:log(score+1)\",\n                \"rollupWeightStrategy\": \"max\",\n                \"skip\": true,\n                \"licensed\": true,\n                \"secretSourceStageId\": \"a51c10bc-7d66-43c5-81a3-f57b87413574\",\n                \"properties\": {\n                    \"autoCreated\": true\n                }\n            },\n            {\n                \"type\": \"search-fields\",\n                \"id\": \"dac376e2-42f6-49df-8ad6-edf0d17c6d47\",\n                \"rows\": 10,\n                \"start\": 0,\n                \"queryFields\": [],\n                \"returnFields\": [\n                    \"*\",\n                    \"score\"\n                ],\n                \"skip\": false,\n                \"licensed\": true,\n                \"secretSourceStageId\": \"dac376e2-42f6-49df-8ad6-edf0d17c6d47\",\n                \"properties\": {\n                    \"autoCreated\": true\n                }\n            },\n            {\n                \"type\": \"facet\",\n                \"id\": \"b157e59d-af83-426b-a595-6e3d35c305a9\",\n                \"fieldFacets\": [\n                    {\n                        \"field\": \"type\",\n                        \"minCount\": 1,\n                        \"missing\": false\n                    },\n                    {\n                        \"field\": \"query_orig_s\",\n                        \"minCount\": 1,\n                        \"missing\": false\n                    },\n                    {\n                        \"field\": \"date_day\",\n                        \"minCount\": 1,\n                        \"missing\": false\n                    },\n                    {\n                        \"field\": \"fusion_query_id\",\n                        \"minCount\": 1,\n                        \"missing\": false\n                    },\n                    {\n                        \"field\": \"is_fusion_query\",\n                        \"minCount\": 1,\n                        \"missing\": false\n                    }\n                ],\n                \"skip\": false,\n                \"licensed\": true,\n                \"secretSourceStageId\": \"b157e59d-af83-426b-a595-6e3d35c305a9\",\n                \"properties\": {\n                    \"autoCreated\": true\n                }\n            },\n            {\n                \"type\": \"query-rules\",\n                \"id\": \"cb1613db-eb7e-4bc2-b391-d9d0048a0d4a\",\n                \"useEmbeddedSolrServer\": false,\n                \"useOriginalQueryIfNoRulesMatch\": true,\n                \"matchPartialFilterQueries\": true,\n                \"handler\": \"select\",\n                \"method\": \"POST\",\n                \"ruleLimit\": \"100\",\n                \"params\": [],\n                \"hierarchicalFilter\": [],\n                \"headers\": [],\n                \"skip\": true,\n                \"licensed\": true,\n                \"secretSourceStageId\": \"cb1613db-eb7e-4bc2-b391-d9d0048a0d4a\",\n                \"properties\": {\n                    \"autoCreated\": true\n                }\n            },\n            {\n                \"type\": \"solr-query\",\n                \"id\": \"214e6d57-17d1-459e-884f-1d1b4071908a\",\n                \"httpMethod\": \"POST\",\n                \"allowFederatedSearch\": false,\n                \"skip\": false,\n                \"responseSignalsEnabled\": true,\n                \"licensed\": true,\n                \"secretSourceStageId\": \"214e6d57-17d1-459e-884f-1d1b4071908a\",\n                \"properties\": {\n                    \"autoCreated\": true\n                }\n            },\n            {\n                \"type\": \"query-rules-augment-response\",\n                \"id\": \"03769d85-c581-4add-934c-f4185e2797fe\",\n                \"facetLabelParseDelimiter\": \"||\",\n                \"skip\": true,\n                \"licensed\": true,\n                \"secretSourceStageId\": \"03769d85-c581-4add-934c-f4185e2797fe\",\n                \"properties\": {\n                    \"autoCreated\": true\n                }\n            }\n        ],\n        \"properties\": {\n            \"secretSourcePipelineId\": \"SignalsBrowser\"\n        }\n    },\n    {\n        \"id\": \"test-question-answering\",\n        \"stages\": [\n            {\n                \"type\": \"search-fields\",\n                \"id\": \"fa0c59db-95c0-49fc-8562-13f7a59e0224\",\n                \"rows\": 10,\n                \"start\": 0,\n                \"queryFields\": [],\n                \"returnFields\": [\n                    \"*\",\n                    \"compressed_document_vector_s\",\n                    \"document_clusters_ss\",\n                    \"score\"\n                ],\n                \"skip\": false,\n                \"licensed\": true,\n                \"secretSourceStageId\": \"fa0c59db-95c0-49fc-8562-13f7a59e0224\"\n            },\n            {\n                \"type\": \"fusion-reranking\",\n                \"id\": \"443da538-107b-4194-91e5-19f595f8d6dc\",\n                \"rowsFromSolrToRerank\": 500,\n                \"skip\": false,\n                \"licensed\": false,\n                \"secretSourceStageId\": \"443da538-107b-4194-91e5-19f595f8d6dc\"\n            },\n            {\n                \"type\": \"tf-deep-encoding-query\",\n                \"id\": \"4a87fece-7add-4f2f-80f4-3274ae38e7c9\",\n                \"modelId\": \"sample_qna_model.zip\",\n                \"queryFeatureField\": \"q\",\n                \"vectorContextKey\": \"query_vector\",\n                \"clustersContextKey\": \"query_clusters\",\n                \"distancesContextKey\": \"query_distances\",\n                \"numClusters\": 0,\n                \"documentsClustersField\": \"document_clusters_ss\",\n                \"failOnError\": false,\n                \"storeInContext\": true,\n                \"skip\": false,\n                \"label\": \"Query Encoding\",\n                \"licensed\": false,\n                \"secretSourceStageId\": \"4a87fece-7add-4f2f-80f4-3274ae38e7c9\"\n            },\n            {\n                \"type\": \"stop-filter-query-stage\",\n                \"id\": \"e91a4c0e-396e-455f-a4ab-c48dd50427bd\",\n                \"inputParam\": \"q\",\n                \"stopWords\": \"a,about,actual,actually,am,an,and,answer,any,anyone,anything,anyway,are,ask,asked,asking,at,away,based,basically,be,been,being,btw,by,can,consider,considered,could,did,do,does,doing,done,especially,essentially,etc,feel,find,for,found,from,generally,get,getting,give,given,giving,go,goes,gone,got,guess,had,happen,happened,happening,has,have,having,he,hello,help,hence,her,here,hers,hey,him,his,hope,hoped,however,i,I'd,i'm,'m,'ll,'d,ie,if,im,in,into,is,it,its,just,keeping,kept,knew,know,let,like,likely,list,look,looked,looking,makes,making,maybe,me,mention,mentioned,might,mind,much,my,need,needed,of,off,on,onto,otherwise,our,ours,out,perhaps,please,possible,possibly,pretty,probably,provide,provided,question,quite,rather,really,regard,regarding,relatively,said,saw,say,saying,search,searching,see,seeing,seem,seemed,seeming,seems,seen,select,she,should,show,simply,so,some,somehow,something,specifically,still,such,suggest,suggested,sure,take,taken,taking,tell,thank,thanks,that,the,their,them,then,there,thereby,therefore,therein,these,they,thing,think,thinking,this,those,though,thought,through,throughout,thru,thus,to,too,took,totally,toward,towards,tried,try,trying,up,upon,us,use,used,using,usually,very,via,want,wanted,was,we,went,were,what,will,wish,wished,with,within,wonder,wondering,would,yet,you,your,yours\",\n                \"skip\": false,\n                \"licensed\": true,\n                \"secretSourceStageId\": \"e91a4c0e-396e-455f-a4ab-c48dd50427bd\"\n            },\n            {\n                \"type\": \"query-escaping-query-stage\",\n                \"id\": \"5a49b7af-3b4f-42ba-85db-dcd2aac94010\",\n                \"inputParam\": \"q\",\n                \"skip\": false,\n                \"licensed\": true,\n                \"secretSourceStageId\": \"5a49b7af-3b4f-42ba-85db-dcd2aac94010\"\n            },\n            {\n                \"type\": \"solr-query\",\n                \"id\": \"f0661501-10bf-4369-b222-305fda0f94c9\",\n                \"httpMethod\": \"POST\",\n                \"allowFederatedSearch\": false,\n                \"skip\": false,\n                \"responseSignalsEnabled\": true,\n                \"licensed\": true,\n                \"secretSourceStageId\": \"f0661501-10bf-4369-b222-305fda0f94c9\"\n            },\n            {\n                \"type\": \"per-result-vectors-distance\",\n                \"id\": \"72709b7a-daf6-40df-a19b-a664fb394fec\",\n                \"queryVectorContextKey\": \"query_vector\",\n                \"documentVectorField\": \"compressed_document_vector_s\",\n                \"keepDocumentVectorField\": false,\n                \"distanceType\": \"cosine_similarity\",\n                \"documentDistanceResultField\": \"vectors_distance\",\n                \"failOnError\": false,\n                \"requiredLicensedCapability\": \"fusion.ai.qa\",\n                \"skip\": false,\n                \"licensed\": false,\n                \"secretSourceStageId\": \"72709b7a-daf6-40df-a19b-a664fb394fec\"\n            },\n            {\n                \"type\": \"response-math-expression\",\n                \"id\": \"7d306457-1a45-404f-aa5f-0581a38797fc\",\n                \"expression\": \"0.3 * score / max_score + 0.7 * vectors_distance\",\n                \"resultFieldName\": \"ensemble_score\",\n                \"requiredLicensedCapability\": \"fusion.ai.qa\",\n                \"skip\": false,\n                \"licensed\": false,\n                \"secretSourceStageId\": \"7d306457-1a45-404f-aa5f-0581a38797fc\"\n            },\n            {\n                \"type\": \"result-doc-field-sorting\",\n                \"id\": \"d6281451-82ae-4d99-a768-363b330ccfeb\",\n                \"sortField\": \"ensemble_score\",\n                \"sortOrder\": \"desc\",\n                \"failOnError\": false,\n                \"skip\": false,\n                \"licensed\": false,\n                \"secretSourceStageId\": \"d6281451-82ae-4d99-a768-363b330ccfeb\"\n            }\n        ],\n        \"properties\": {\n            \"secretSourcePipelineId\": \"test-question-answering\"\n        }\n    },\n    {\n        \"id\": \"SignalsBrowser2\",\n        \"stages\": [\n            {\n                \"type\": \"set-params\",\n                \"id\": \"z2\",\n                \"params\": [\n                    {\n                        \"key\": \"fq\",\n                        \"value\": \"dcterms_audience_s:(children enfants scientists)\",\n                        \"policy\": \"append\"\n                    }\n                ],\n                \"skip\": true,\n                \"label\": \"filter to audience\",\n                \"licensed\": true,\n                \"secretSourceStageId\": \"z2\"\n            },\n            {\n                \"type\": \"set-params\",\n                \"id\": \"rc8\",\n                \"params\": [\n                    {\n                        \"key\": \"fq\",\n                        \"value\": \"dcterms_subject_s:(\\\"Home education\\\" \\\"ducation  domicile\\\" \\\"agriculture\\\")\",\n                        \"policy\": \"append\"\n                    }\n                ],\n                \"skip\": true,\n                \"label\": \"Filter to specific dcterms values\",\n                \"licensed\": true,\n                \"secretSourceStageId\": \"rc8\"\n            },\n            {\n                \"type\": \"set-params\",\n                \"id\": \"lxuo\",\n                \"params\": [\n                    {\n                        \"key\": \"fq\",\n                        \"value\": \"_lw_data_source_s:\\\"ca-gov-parsing-test\\\"\",\n                        \"policy\": \"append\"\n                    }\n                ],\n                \"skip\": true,\n                \"label\": \"filter to datasource\",\n                \"licensed\": true,\n                \"secretSourceStageId\": \"lxuo\"\n            },\n            {\n                \"type\": \"set-params\",\n                \"id\": \"2ud\",\n                \"params\": [\n                    {\n                        \"key\": \"hl\",\n                        \"value\": \"on\",\n                        \"policy\": \"default\"\n                    },\n                    {\n                        \"key\": \"hl.fl\",\n                        \"value\": \"*\",\n                        \"policy\": \"default\"\n                    },\n                    {\n                        \"key\": \"hl.snippets\",\n                        \"value\": \"3\",\n                        \"policy\": \"default\"\n                    }\n                ],\n                \"skip\": false,\n                \"label\": \"hl params\",\n                \"licensed\": true,\n                \"secretSourceStageId\": \"2ud\"\n            },\n            {\n                \"type\": \"set-params\",\n                \"id\": \"0o\",\n                \"params\": [\n                    {\n                        \"key\": \"q.alt\",\n                        \"value\": \"*:*\",\n                        \"policy\": \"default\"\n                    }\n                ],\n                \"skip\": false,\n                \"label\": \"q.alt\",\n                \"licensed\": true,\n                \"secretSourceStageId\": \"0o\"\n            },\n            {\n                \"type\": \"search-fields\",\n                \"id\": \"f6e037d0-4bd4-4757-99fe-fdf4c160f7c9\",\n                \"rows\": 10,\n                \"start\": 0,\n                \"queryFields\": [\n                    {\n                        \"field\": \"title_t\",\n                        \"boost\": 5\n                    },\n                    {\n                        \"field\": \"description_t\",\n                        \"boost\": 3\n                    },\n                    {\n                        \"field\": \"url_t\",\n                        \"boost\": 4\n                    },\n                    {\n                        \"field\": \"body_t\",\n                        \"boost\": 1\n                    },\n                    {\n                        \"field\": \"_text_\",\n                        \"boost\": 0.01\n                    }\n                ],\n                \"returnFields\": [\n                    \"*\",\n                    \"score\",\n                    \"title_t\",\n                    \"description_t\",\n                    \"fetchedDate_dt\",\n                    \"publishedDate_dt\",\n                    \"length_l\",\n                    \"aaa_s\",\n                    \"azz_s\",\n                    \"gc_topic_ss\",\n                    \"dcterms_subject_s\",\n                    \"aa_legalname_s\"\n                ],\n                \"skip\": false,\n                \"licensed\": true,\n                \"secretSourceStageId\": \"f6e037d0-4bd4-4757-99fe-fdf4c160f7c9\"\n            },\n            {\n                \"type\": \"set-params\",\n                \"id\": \"cki\",\n                \"params\": [\n                    {\n                        \"key\": \"qf\",\n                        \"value\": \"title_t^5 url_t^4 description_t^3 body_t _text_$0.01\",\n                        \"policy\": \"default\"\n                    },\n                    {\n                        \"key\": \"fl\",\n                        \"value\": \"id score title_t description_t fetchedDate_dt \",\n                        \"policy\": \"default\"\n                    }\n                ],\n                \"skip\": false,\n                \"label\": \"Set Query Fields params\",\n                \"licensed\": true,\n                \"secretSourceStageId\": \"cki\"\n            },\n            {\n                \"type\": \"facet\",\n                \"id\": \"8e04cae3-41c7-44d2-894d-804800269229\",\n                \"fieldFacets\": [\n                    {\n                        \"field\": \"_lw_batch_id_s\",\n                        \"minCount\": 1,\n                        \"missing\": false\n                    },\n                    {\n                        \"field\": \"_lw_data_source_s\",\n                        \"minCount\": 1,\n                        \"missing\": false\n                    },\n                    {\n                        \"field\": \"fetchedDate_dt\",\n                        \"minCount\": 1,\n                        \"missing\": false\n                    },\n                    {\n                        \"field\": \"mimeType_s\",\n                        \"minCount\": 1,\n                        \"missing\": false\n                    },\n                    {\n                        \"field\": \"parent_s\",\n                        \"minCount\": 1,\n                        \"missing\": false\n                    },\n                    {\n                        \"field\": \"length_l\",\n                        \"minCount\": 1,\n                        \"missing\": false\n                    },\n                    {\n                        \"field\": \"date_day\",\n                        \"minCount\": 1,\n                        \"missing\": false\n                    },\n                    {\n                        \"field\": \"filters_s\",\n                        \"minCount\": 1,\n                        \"missing\": false\n                    },\n                    {\n                        \"field\": \"flag_s\",\n                        \"minCount\": 1,\n                        \"missing\": false\n                    },\n                    {\n                        \"field\": \"hits\",\n                        \"minCount\": 1,\n                        \"missing\": false\n                    },\n                    {\n                        \"field\": \"fusion_query_id\",\n                        \"minCount\": 1,\n                        \"missing\": false\n                    },\n                    {\n                        \"field\": \"pipeline_id\",\n                        \"minCount\": 1,\n                        \"missing\": false\n                    },\n                    {\n                        \"field\": \"query_orig_s\",\n                        \"minCount\": 1,\n                        \"missing\": false\n                    },\n                    {\n                        \"field\": \"response_type\",\n                        \"minCount\": 1,\n                        \"missing\": false\n                    }\n                ],\n                \"skip\": false,\n                \"licensed\": true,\n                \"secretSourceStageId\": \"8e04cae3-41c7-44d2-894d-804800269229\",\n                \"properties\": {\n                    \"autoCreated\": true\n                }\n            },\n            {\n                \"type\": \"text-tagger\",\n                \"id\": \"788fa5e2-6691-4121-98e1-eb3cf81e2805\",\n                \"useEmbeddedSolrServer\": false,\n                \"paramToTag\": \"q\",\n                \"spell_corrections_enabled\": true,\n                \"phrase_boosting_enabled\": true,\n                \"tail_rewrites_enabled\": true,\n                \"phraseBoost\": 2,\n                \"phraseSlop\": 10,\n                \"synonymExpansionBoost\": 2,\n                \"synonym_expansion_enabled\": true,\n                \"overlaps\": \"ALL\",\n                \"params\": [],\n                \"skip\": true,\n                \"licensed\": true,\n                \"secretSourceStageId\": \"788fa5e2-6691-4121-98e1-eb3cf81e2805\"\n            },\n            {\n                \"type\": \"recommendation\",\n                \"id\": \"cdd8455f-1039-47b6-a0e8-137809589ce5\",\n                \"numRecommendations\": 10,\n                \"numSignals\": 100,\n                \"aggrType\": \"click@doc_id,filters,query\",\n                \"boostId\": \"id\",\n                \"boostingMethod\": \"query-param\",\n                \"boostingParam\": \"boost\",\n                \"queryParams\": [\n                    {\n                        \"key\": \"qf\",\n                        \"value\": \"query_t\"\n                    },\n                    {\n                        \"key\": \"pf\",\n                        \"value\": \"query_t^50\"\n                    },\n                    {\n                        \"key\": \"pf\",\n                        \"value\": \"query_t~3^20\"\n                    },\n                    {\n                        \"key\": \"pf2\",\n                        \"value\": \"query_t^20\"\n                    },\n                    {\n                        \"key\": \"pf2\",\n                        \"value\": \"query_t~3^10\"\n                    },\n                    {\n                        \"key\": \"pf3\",\n                        \"value\": \"query_t^10\"\n                    },\n                    {\n                        \"key\": \"pf3\",\n                        \"value\": \"query_t~3^5\"\n                    },\n                    {\n                        \"key\": \"boost\",\n                        \"value\": \"map(query({!field f=query_s v=$q}),0,0,1,20)\"\n                    },\n                    {\n                        \"key\": \"mm\",\n                        \"value\": \"50%\"\n                    },\n                    {\n                        \"key\": \"defType\",\n                        \"value\": \"edismax\"\n                    },\n                    {\n                        \"key\": \"sort\",\n                        \"value\": \"score desc, weight_d desc\"\n                    }\n                ],\n                \"rollupField\": \"doc_id_s\",\n                \"rollupWeightField\": \"weight_d\",\n                \"weightExpression\": \"math:log(weight_d + 1) + 10 * math:log(score+1)\",\n                \"rollupWeightStrategy\": \"max\",\n                \"skip\": true,\n                \"licensed\": true,\n                \"secretSourceStageId\": \"cdd8455f-1039-47b6-a0e8-137809589ce5\"\n            },\n            {\n                \"type\": \"query-rules\",\n                \"id\": \"41dd877a-c9a7-4f70-a7bf-25b3b735d961\",\n                \"useEmbeddedSolrServer\": false,\n                \"useOriginalQueryIfNoRulesMatch\": true,\n                \"matchPartialFilterQueries\": true,\n                \"handler\": \"select\",\n                \"method\": \"POST\",\n                \"ruleLimit\": \"100\",\n                \"params\": [],\n                \"hierarchicalFilter\": [],\n                \"headers\": [],\n                \"skip\": true,\n                \"licensed\": true,\n                \"secretSourceStageId\": \"41dd877a-c9a7-4f70-a7bf-25b3b735d961\"\n            },\n            {\n                \"type\": \"solr-query\",\n                \"id\": \"a7c7886d-229c-469d-9802-1593ad8adb9f\",\n                \"httpMethod\": \"POST\",\n                \"allowFederatedSearch\": false,\n                \"skip\": false,\n                \"responseSignalsEnabled\": true,\n                \"licensed\": true,\n                \"secretSourceStageId\": \"a7c7886d-229c-469d-9802-1593ad8adb9f\"\n            },\n            {\n                \"type\": \"query-rules-augment-response\",\n                \"id\": \"7bacff2b-cf35-4524-8f91-14815b82edcd\",\n                \"facetLabelParseDelimiter\": \"||\",\n                \"skip\": true,\n                \"licensed\": true,\n                \"secretSourceStageId\": \"7bacff2b-cf35-4524-8f91-14815b82edcd\"\n            }\n        ],\n        \"properties\": {\n            \"secretSourcePipelineId\": \"SignalsBrowser2\"\n        }\n    },\n    {\n        \"id\": \"test\",\n        \"stages\": [\n            {\n                \"type\": \"landing-pages\",\n                \"id\": \"ln\",\n                \"queryParam\": \"q\",\n                \"matchCount\": 1,\n                \"rules\": [\n                    {\n                        \"keyword\": \"test\",\n                        \"mode\": \"match\",\n                        \"url\": \"https://www.acme-yyyy.com\"\n                    }\n                ],\n                \"skip\": true,\n                \"label\": \"Test landing page\",\n                \"licensed\": true,\n                \"secretSourceStageId\": \"ln\"\n            },\n            {\n                \"type\": \"set-params\",\n                \"id\": \"z2\",\n                \"params\": [\n                    {\n                        \"key\": \"fq\",\n                        \"value\": \"dcterms_audience_s:(children enfants scientists)\",\n                        \"policy\": \"append\"\n                    }\n                ],\n                \"skip\": true,\n                \"label\": \"filter to audience\",\n                \"licensed\": true,\n                \"secretSourceStageId\": \"z2\"\n            },\n            {\n                \"type\": \"set-params\",\n                \"id\": \"rc8\",\n                \"params\": [\n                    {\n                        \"key\": \"fq\",\n                        \"value\": \"dcterms_subject_s:(\\\"Home education\\\" \\\"ducation  domicile\\\" \\\"agriculture\\\")\",\n                        \"policy\": \"append\"\n                    }\n                ],\n                \"skip\": true,\n                \"label\": \"Filter to specific dcterms values\",\n                \"licensed\": true,\n                \"secretSourceStageId\": \"rc8\"\n            },\n            {\n                \"type\": \"set-params\",\n                \"id\": \"lxuo\",\n                \"params\": [\n                    {\n                        \"key\": \"fq\",\n                        \"value\": \"_lw_data_source_s:\\\"ca-gov-parsing-test\\\"\",\n                        \"policy\": \"append\"\n                    }\n                ],\n                \"skip\": true,\n                \"label\": \"filter to datasource\",\n                \"licensed\": true,\n                \"secretSourceStageId\": \"lxuo\"\n            },\n            {\n                \"type\": \"set-params\",\n                \"id\": \"2ud\",\n                \"params\": [\n                    {\n                        \"key\": \"hl\",\n                        \"value\": \"on\",\n                        \"policy\": \"default\"\n                    },\n                    {\n                        \"key\": \"hl.fl\",\n                        \"value\": \"*\",\n                        \"policy\": \"default\"\n                    },\n                    {\n                        \"key\": \"hl.snippets\",\n                        \"value\": \"3\",\n                        \"policy\": \"default\"\n                    }\n                ],\n                \"skip\": false,\n                \"label\": \"hl params\",\n                \"licensed\": true,\n                \"secretSourceStageId\": \"2ud\"\n            },\n            {\n                \"type\": \"set-params\",\n                \"id\": \"0o\",\n                \"params\": [\n                    {\n                        \"key\": \"q.alt\",\n                        \"value\": \"*:*\",\n                        \"policy\": \"default\"\n                    }\n                ],\n                \"skip\": false,\n                \"label\": \"q.alt\",\n                \"licensed\": true,\n                \"secretSourceStageId\": \"0o\"\n            },\n            {\n                \"type\": \"search-fields\",\n                \"id\": \"f6e037d0-4bd4-4757-99fe-fdf4c160f7c9\",\n                \"rows\": 10,\n                \"start\": 0,\n                \"queryFields\": [\n                    {\n                        \"field\": \"title_t\",\n                        \"boost\": 5\n                    },\n                    {\n                        \"field\": \"_text_\",\n                        \"boost\": 0.01\n                    },\n                    {\n                        \"field\": \"body_t\",\n                        \"boost\": 1\n                    },\n                    {\n                        \"field\": \"description_t\",\n                        \"boost\": 3\n                    },\n                    {\n                        \"field\": \"keywords_txt\",\n                        \"boost\": 5\n                    }\n                ],\n                \"returnFields\": [\n                    \"id\",\n                    \"title_t\",\n                    \"score\",\n                    \"description_t\",\n                    \"keywords_txt\",\n                    \"_lw_data_source_s\",\n                    \"fetchedDate_dt\",\n                    \"_lw_batch_id_s\"\n                ],\n                \"skip\": false,\n                \"licensed\": true,\n                \"secretSourceStageId\": \"f6e037d0-4bd4-4757-99fe-fdf4c160f7c9\"\n            },\n            {\n                \"type\": \"javascript-query\",\n                \"id\": \"pn\",\n                \"script\": \"function(request, response, ctx){\\n\\n  var keys = ctx.getProperties();\\n  logger.warn(\\\"------------ keys: \\\" + keys);\\n  var lpages = ctx.getProperty(\\\"landing-pages\\\");\\n  logger.warn(\\\"------------ lpages: \\\" + lpages);\\n\\n  request.addParam(\\\"lpages\\\", lpages);\\n\\n  logger.warn(\\\"---------- TEST END SEAN ----------- \\\");\\n    \\n}\\n\",\n                \"shareState\": false,\n                \"skip\": true,\n                \"label\": \"Test response\",\n                \"licensed\": true,\n                \"secretSourceStageId\": \"pn\"\n            },\n            {\n                \"type\": \"set-params\",\n                \"id\": \"cki\",\n                \"params\": [\n                    {\n                        \"key\": \"qf\",\n                        \"value\": \"title_t^5 url_t^4 description_t^3 body_t _text_$0.01\",\n                        \"policy\": \"default\"\n                    },\n                    {\n                        \"key\": \"fl\",\n                        \"value\": \"id score title_t description_t fetchedDate_dt \",\n                        \"policy\": \"default\"\n                    }\n                ],\n                \"skip\": true,\n                \"label\": \"Set Query Fields params\",\n                \"licensed\": true,\n                \"secretSourceStageId\": \"cki\"\n            },\n            {\n                \"type\": \"facet\",\n                \"id\": \"8e04cae3-41c7-44d2-894d-804800269229\",\n                \"fieldFacets\": [\n                    {\n                        \"field\": \"_lw_batch_id_s\",\n                        \"minCount\": 1,\n                        \"missing\": false\n                    },\n                    {\n                        \"field\": \"_lw_data_source_s\",\n                        \"minCount\": 1,\n                        \"missing\": false\n                    },\n                    {\n                        \"field\": \"fetchedDate_dt\",\n                        \"minCount\": 1,\n                        \"missing\": false\n                    },\n                    {\n                        \"field\": \"mimeType_s\",\n                        \"minCount\": 1,\n                        \"missing\": false\n                    },\n                    {\n                        \"field\": \"aaa_s\",\n                        \"minCount\": 1,\n                        \"missing\": false\n                    },\n                    {\n                        \"field\": \"parent_s\",\n                        \"minCount\": 1,\n                        \"missing\": false\n                    },\n                    {\n                        \"field\": \"tag_ss\",\n                        \"minCount\": 1,\n                        \"missing\": false\n                    }\n                ],\n                \"skip\": false,\n                \"licensed\": true,\n                \"secretSourceStageId\": \"8e04cae3-41c7-44d2-894d-804800269229\",\n                \"properties\": {\n                    \"autoCreated\": true\n                }\n            },\n            {\n                \"type\": \"text-tagger\",\n                \"id\": \"788fa5e2-6691-4121-98e1-eb3cf81e2805\",\n                \"useEmbeddedSolrServer\": false,\n                \"paramToTag\": \"q\",\n                \"spell_corrections_enabled\": true,\n                \"phrase_boosting_enabled\": true,\n                \"tail_rewrites_enabled\": true,\n                \"phraseBoost\": 2,\n                \"phraseSlop\": 10,\n                \"synonymExpansionBoost\": 2,\n                \"synonym_expansion_enabled\": true,\n                \"overlaps\": \"ALL\",\n                \"params\": [],\n                \"skip\": true,\n                \"licensed\": true,\n                \"secretSourceStageId\": \"788fa5e2-6691-4121-98e1-eb3cf81e2805\"\n            },\n            {\n                \"type\": \"recommendation\",\n                \"id\": \"cdd8455f-1039-47b6-a0e8-137809589ce5\",\n                \"numRecommendations\": 10,\n                \"numSignals\": 100,\n                \"aggrType\": \"click@doc_id,filters,query\",\n                \"boostId\": \"id\",\n                \"boostingMethod\": \"query-param\",\n                \"boostingParam\": \"boost\",\n                \"queryParams\": [\n                    {\n                        \"key\": \"qf\",\n                        \"value\": \"query_t\"\n                    },\n                    {\n                        \"key\": \"pf\",\n                        \"value\": \"query_t^50\"\n                    },\n                    {\n                        \"key\": \"pf\",\n                        \"value\": \"query_t~3^20\"\n                    },\n                    {\n                        \"key\": \"pf2\",\n                        \"value\": \"query_t^20\"\n                    },\n                    {\n                        \"key\": \"pf2\",\n                        \"value\": \"query_t~3^10\"\n                    },\n                    {\n                        \"key\": \"pf3\",\n                        \"value\": \"query_t^10\"\n                    },\n                    {\n                        \"key\": \"pf3\",\n                        \"value\": \"query_t~3^5\"\n                    },\n                    {\n                        \"key\": \"boost\",\n                        \"value\": \"map(query({!field f=query_s v=$q}),0,0,1,20)\"\n                    },\n                    {\n                        \"key\": \"mm\",\n                        \"value\": \"50%\"\n                    },\n                    {\n                        \"key\": \"defType\",\n                        \"value\": \"edismax\"\n                    },\n                    {\n                        \"key\": \"sort\",\n                        \"value\": \"score desc, weight_d desc\"\n                    }\n                ],\n                \"rollupField\": \"doc_id_s\",\n                \"rollupWeightField\": \"weight_d\",\n                \"weightExpression\": \"math:log(weight_d + 1) + 10 * math:log(score+1)\",\n                \"rollupWeightStrategy\": \"max\",\n                \"skip\": true,\n                \"licensed\": true,\n                \"secretSourceStageId\": \"cdd8455f-1039-47b6-a0e8-137809589ce5\"\n            },\n            {\n                \"type\": \"query-rules\",\n                \"id\": \"41dd877a-c9a7-4f70-a7bf-25b3b735d961\",\n                \"useEmbeddedSolrServer\": false,\n                \"useOriginalQueryIfNoRulesMatch\": true,\n                \"matchPartialFilterQueries\": true,\n                \"handler\": \"select\",\n                \"method\": \"POST\",\n                \"ruleLimit\": \"100\",\n                \"params\": [],\n                \"hierarchicalFilter\": [],\n                \"headers\": [],\n                \"skip\": true,\n                \"licensed\": true,\n                \"secretSourceStageId\": \"41dd877a-c9a7-4f70-a7bf-25b3b735d961\"\n            },\n            {\n                \"type\": \"solr-query\",\n                \"id\": \"a7c7886d-229c-469d-9802-1593ad8adb9f\",\n                \"httpMethod\": \"POST\",\n                \"allowFederatedSearch\": false,\n                \"skip\": false,\n                \"responseSignalsEnabled\": true,\n                \"licensed\": true,\n                \"secretSourceStageId\": \"a7c7886d-229c-469d-9802-1593ad8adb9f\"\n            },\n            {\n                \"type\": \"query-rules-augment-response\",\n                \"id\": \"7bacff2b-cf35-4524-8f91-14815b82edcd\",\n                \"facetLabelParseDelimiter\": \"||\",\n                \"skip\": true,\n                \"licensed\": true,\n                \"secretSourceStageId\": \"7bacff2b-cf35-4524-8f91-14815b82edcd\"\n            },\n            {\n                \"type\": \"query-logging\",\n                \"id\": \"ey2\",\n                \"detailed\": true,\n                \"skip\": true,\n                \"label\": \"test logging\",\n                \"licensed\": true,\n                \"secretSourceStageId\": \"ey2\"\n            }\n        ],\n        \"properties\": {\n            \"secretSourcePipelineId\": \"test\"\n        }\n    },\n    {\n        \"id\": \"superman\",\n        \"stages\": [\n            {\n                \"type\": \"landing-pages\",\n                \"id\": \"ln\",\n                \"queryParam\": \"q\",\n                \"matchCount\": 1,\n                \"rules\": [\n                    {\n                        \"keyword\": \"test\",\n                        \"mode\": \"match\",\n                        \"url\": \"https://www.acme-yyyy.com\"\n                    }\n                ],\n                \"skip\": true,\n                \"label\": \"Test landing page\",\n                \"licensed\": true,\n                \"secretSourceStageId\": \"ln\"\n            },\n            {\n                \"type\": \"set-params\",\n                \"id\": \"z2\",\n                \"params\": [\n                    {\n                        \"key\": \"fq\",\n                        \"value\": \"dcterms_audience_s:(children enfants scientists)\",\n                        \"policy\": \"append\"\n                    }\n                ],\n                \"skip\": true,\n                \"label\": \"filter to audience\",\n                \"licensed\": true,\n                \"secretSourceStageId\": \"z2\"\n            },\n            {\n                \"type\": \"set-params\",\n                \"id\": \"rc8\",\n                \"params\": [\n                    {\n                        \"key\": \"fq\",\n                        \"value\": \"dcterms_subject_s:(\\\"Home education\\\" \\\"ducation  domicile\\\" \\\"agriculture\\\")\",\n                        \"policy\": \"append\"\n                    }\n                ],\n                \"skip\": true,\n                \"label\": \"Filter to specific dcterms values\",\n                \"licensed\": true,\n                \"secretSourceStageId\": \"rc8\"\n            },\n            {\n                \"type\": \"set-params\",\n                \"id\": \"lxuo\",\n                \"params\": [\n                    {\n                        \"key\": \"fq\",\n                        \"value\": \"_lw_data_source_s:\\\"ca-gov-parsing-test\\\"\",\n                        \"policy\": \"append\"\n                    }\n                ],\n                \"skip\": true,\n                \"label\": \"filter to datasource\",\n                \"licensed\": true,\n                \"secretSourceStageId\": \"lxuo\"\n            },\n            {\n                \"type\": \"set-params\",\n                \"id\": \"2ud\",\n                \"params\": [\n                    {\n                        \"key\": \"hl\",\n                        \"value\": \"on\",\n                        \"policy\": \"default\"\n                    },\n                    {\n                        \"key\": \"hl.fl\",\n                        \"value\": \"*\",\n                        \"policy\": \"default\"\n                    },\n                    {\n                        \"key\": \"hl.snippets\",\n                        \"value\": \"3\",\n                        \"policy\": \"default\"\n                    }\n                ],\n                \"skip\": false,\n                \"label\": \"hl params\",\n                \"licensed\": true,\n                \"secretSourceStageId\": \"2ud\"\n            },\n            {\n                \"type\": \"set-params\",\n                \"id\": \"0o\",\n                \"params\": [\n                    {\n                        \"key\": \"q.alt\",\n                        \"value\": \"*:*\",\n                        \"policy\": \"default\"\n                    }\n                ],\n                \"skip\": false,\n                \"label\": \"q.alt\",\n                \"licensed\": true,\n                \"secretSourceStageId\": \"0o\"\n            },\n            {\n                \"type\": \"search-fields\",\n                \"id\": \"f6e037d0-4bd4-4757-99fe-fdf4c160f7c9\",\n                \"rows\": 10,\n                \"start\": 0,\n                \"queryFields\": [\n                    {\n                        \"field\": \"title_t\",\n                        \"boost\": 5\n                    },\n                    {\n                        \"field\": \"_text_\",\n                        \"boost\": 0.01\n                    },\n                    {\n                        \"field\": \"body_t\",\n                        \"boost\": 1\n                    },\n                    {\n                        \"field\": \"description_t\",\n                        \"boost\": 3\n                    },\n                    {\n                        \"field\": \"keywords_txt\",\n                        \"boost\": 5\n                    }\n                ],\n                \"returnFields\": [\n                    \"id\",\n                    \"title_t\",\n                    \"score\",\n                    \"description_t\",\n                    \"keywords_txt\",\n                    \"_lw_data_source_s\",\n                    \"fetchedDate_dt\",\n                    \"_lw_batch_id_s\"\n                ],\n                \"skip\": false,\n                \"licensed\": true,\n                \"secretSourceStageId\": \"f6e037d0-4bd4-4757-99fe-fdf4c160f7c9\"\n            },\n            {\n                \"type\": \"javascript-query\",\n                \"id\": \"pn\",\n                \"script\": \"function(request, response, ctx){\\n\\n  var keys = ctx.getProperties();\\n  logger.warn(\\\"------------ keys: \\\" + keys);\\n  var lpages = ctx.getProperty(\\\"landing-pages\\\");\\n  logger.warn(\\\"------------ lpages: \\\" + lpages);\\n\\n  request.addParam(\\\"lpages\\\", lpages);\\n\\n  logger.warn(\\\"---------- TEST END SEAN ----------- \\\");\\n    \\n}\\n\",\n                \"shareState\": false,\n                \"skip\": true,\n                \"label\": \"Test response\",\n                \"licensed\": true,\n                \"secretSourceStageId\": \"pn\"\n            },\n            {\n                \"type\": \"set-params\",\n                \"id\": \"cki\",\n                \"params\": [\n                    {\n                        \"key\": \"qf\",\n                        \"value\": \"title_t^5 url_t^4 description_t^3 body_t _text_$0.01\",\n                        \"policy\": \"default\"\n                    },\n                    {\n                        \"key\": \"fl\",\n                        \"value\": \"id score title_t description_t fetchedDate_dt \",\n                        \"policy\": \"default\"\n                    }\n                ],\n                \"skip\": true,\n                \"label\": \"Set Query Fields params\",\n                \"licensed\": true,\n                \"secretSourceStageId\": \"cki\"\n            },\n            {\n                \"type\": \"facet\",\n                \"id\": \"8e04cae3-41c7-44d2-894d-804800269229\",\n                \"fieldFacets\": [\n                    {\n                        \"field\": \"_lw_batch_id_s\",\n                        \"minCount\": 1,\n                        \"missing\": false\n                    },\n                    {\n                        \"field\": \"_lw_data_source_s\",\n                        \"minCount\": 1,\n                        \"missing\": false\n                    },\n                    {\n                        \"field\": \"fetchedDate_dt\",\n                        \"minCount\": 1,\n                        \"missing\": false\n                    },\n                    {\n                        \"field\": \"mimeType_s\",\n                        \"minCount\": 1,\n                        \"missing\": false\n                    },\n                    {\n                        \"field\": \"aaa_s\",\n                        \"minCount\": 1,\n                        \"missing\": false\n                    },\n                    {\n                        \"field\": \"parent_s\",\n                        \"minCount\": 1,\n                        \"missing\": false\n                    },\n                    {\n                        \"field\": \"tag_ss\",\n                        \"minCount\": 1,\n                        \"missing\": false\n                    }\n                ],\n                \"skip\": false,\n                \"licensed\": true,\n                \"secretSourceStageId\": \"8e04cae3-41c7-44d2-894d-804800269229\",\n                \"properties\": {\n                    \"autoCreated\": true\n                }\n            },\n            {\n                \"type\": \"text-tagger\",\n                \"id\": \"788fa5e2-6691-4121-98e1-eb3cf81e2805\",\n                \"useEmbeddedSolrServer\": false,\n                \"paramToTag\": \"q\",\n                \"spell_corrections_enabled\": true,\n                \"phrase_boosting_enabled\": true,\n                \"tail_rewrites_enabled\": true,\n                \"phraseBoost\": 2,\n                \"phraseSlop\": 10,\n                \"synonymExpansionBoost\": 2,\n                \"synonym_expansion_enabled\": true,\n                \"overlaps\": \"ALL\",\n                \"params\": [],\n                \"skip\": true,\n                \"licensed\": true,\n                \"secretSourceStageId\": \"788fa5e2-6691-4121-98e1-eb3cf81e2805\"\n            },\n            {\n                \"type\": \"recommendation\",\n                \"id\": \"cdd8455f-1039-47b6-a0e8-137809589ce5\",\n                \"numRecommendations\": 10,\n                \"numSignals\": 100,\n                \"aggrType\": \"click@doc_id,filters,query\",\n                \"boostId\": \"id\",\n                \"boostingMethod\": \"query-param\",\n                \"boostingParam\": \"boost\",\n                \"queryParams\": [\n                    {\n                        \"key\": \"qf\",\n                        \"value\": \"query_t\"\n                    },\n                    {\n                        \"key\": \"pf\",\n                        \"value\": \"query_t^50\"\n                    },\n                    {\n                        \"key\": \"pf\",\n                        \"value\": \"query_t~3^20\"\n                    },\n                    {\n                        \"key\": \"pf2\",\n                        \"value\": \"query_t^20\"\n                    },\n                    {\n                        \"key\": \"pf2\",\n                        \"value\": \"query_t~3^10\"\n                    },\n                    {\n                        \"key\": \"pf3\",\n                        \"value\": \"query_t^10\"\n                    },\n                    {\n                        \"key\": \"pf3\",\n                        \"value\": \"query_t~3^5\"\n                    },\n                    {\n                        \"key\": \"boost\",\n                        \"value\": \"map(query({!field f=query_s v=$q}),0,0,1,20)\"\n                    },\n                    {\n                        \"key\": \"mm\",\n                        \"value\": \"50%\"\n                    },\n                    {\n                        \"key\": \"defType\",\n                        \"value\": \"edismax\"\n                    },\n                    {\n                        \"key\": \"sort\",\n                        \"value\": \"score desc, weight_d desc\"\n                    }\n                ],\n                \"rollupField\": \"doc_id_s\",\n                \"rollupWeightField\": \"weight_d\",\n                \"weightExpression\": \"math:log(weight_d + 1) + 10 * math:log(score+1)\",\n                \"rollupWeightStrategy\": \"max\",\n                \"skip\": true,\n                \"licensed\": true,\n                \"secretSourceStageId\": \"cdd8455f-1039-47b6-a0e8-137809589ce5\"\n            },\n            {\n                \"type\": \"query-rules\",\n                \"id\": \"41dd877a-c9a7-4f70-a7bf-25b3b735d961\",\n                \"useEmbeddedSolrServer\": false,\n                \"useOriginalQueryIfNoRulesMatch\": true,\n                \"matchPartialFilterQueries\": true,\n                \"handler\": \"select\",\n                \"method\": \"POST\",\n                \"ruleLimit\": \"100\",\n                \"params\": [],\n                \"hierarchicalFilter\": [],\n                \"headers\": [],\n                \"skip\": true,\n                \"licensed\": true,\n                \"secretSourceStageId\": \"41dd877a-c9a7-4f70-a7bf-25b3b735d961\"\n            },\n            {\n                \"type\": \"solr-query\",\n                \"id\": \"a7c7886d-229c-469d-9802-1593ad8adb9f\",\n                \"httpMethod\": \"POST\",\n                \"allowFederatedSearch\": false,\n                \"skip\": false,\n                \"responseSignalsEnabled\": true,\n                \"licensed\": true,\n                \"secretSourceStageId\": \"a7c7886d-229c-469d-9802-1593ad8adb9f\"\n            },\n            {\n                \"type\": \"query-rules-augment-response\",\n                \"id\": \"7bacff2b-cf35-4524-8f91-14815b82edcd\",\n                \"facetLabelParseDelimiter\": \"||\",\n                \"skip\": true,\n                \"licensed\": true,\n                \"secretSourceStageId\": \"7bacff2b-cf35-4524-8f91-14815b82edcd\"\n            },\n            {\n                \"type\": \"query-logging\",\n                \"id\": \"ey2\",\n                \"detailed\": true,\n                \"skip\": true,\n                \"label\": \"test logging\",\n                \"licensed\": true,\n                \"secretSourceStageId\": \"ey2\"\n            }\n        ],\n        \"properties\": {\n            \"secretSourcePipelineId\": \"superman\"\n        }\n    },\n    {\n        \"id\": \"_system\",\n        \"stages\": [\n            {\n                \"type\": \"solr-query\",\n                \"id\": \"1386cfb3-ece2-4423-bff9-a9ad53905ef8\",\n                \"httpMethod\": \"POST\",\n                \"allowFederatedSearch\": false,\n                \"skip\": false,\n                \"responseSignalsEnabled\": true,\n                \"licensed\": true,\n                \"secretSourceStageId\": \"1386cfb3-ece2-4423-bff9-a9ad53905ef8\"\n            }\n        ],\n        \"properties\": {\n            \"secretSourcePipelineId\": \"_system\"\n        }\n    },\n    {\n        \"id\": \"related-items\",\n        \"stages\": [\n            {\n                \"type\": \"more-like-this\",\n                \"id\": \"ae05f16e-9f44-41ff-8a88-03dc1563d0e3\",\n                \"moreLikeThisFields\": [],\n                \"useQueryParser\": true,\n                \"mindf\": 2,\n                \"maxdf\": 10000,\n                \"minwl\": 3,\n                \"docId\": \"id\",\n                \"skip\": false,\n                \"licensed\": true,\n                \"secretSourceStageId\": \"ae05f16e-9f44-41ff-8a88-03dc1563d0e3\"\n            },\n            {\n                \"type\": \"solr-query\",\n                \"id\": \"b947b11d-2875-4139-bb3f-39f613d81a8d\",\n                \"httpMethod\": \"POST\",\n                \"allowFederatedSearch\": false,\n                \"skip\": false,\n                \"responseSignalsEnabled\": true,\n                \"licensed\": true,\n                \"secretSourceStageId\": \"b947b11d-2875-4139-bb3f-39f613d81a8d\"\n            }\n        ],\n        \"properties\": {\n            \"secretSourcePipelineId\": \"related-items\"\n        }\n    }\n]"
						}
					]
				}
			]
		},
		{
			"name": "Jobs",
			"item": [
				{
					"name": "Get signals aggr job definition",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{furl}}/api/tasks",
							"host": [
								"{{furl}}"
							],
							"path": [
								"api",
								"tasks"
							]
						}
					},
					"response": []
				}
			],
			"description": "get various signals related jobs"
		},
		{
			"name": "Visualizations",
			"item": [
				{
					"name": "Datasource Jobs statuses with visualization",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var template = `",
									"    <table bgcolor=\"#FFFFFF\">",
									"        <tr>",
									"            <th>resource</th>",
									"            <th>enabled</th>",
									"            <th>status</th>",
									"            <th>lastStartTime</th>",
									"            <th>lastEndTime</th>",
									"            <th>counter.new</th> ",
									"        </tr>",
									"",
									"        {{#each response}}",
									"            <tr>",
									"                <td>{{resource}}</td>",
									"                <td>{{enabled}}</td>",
									"                <td>{{status}}</td>",
									"                <td>{{lastStartTime}}</td>",
									"                <td>{{lastEndTime}}</td>",
									"                <td>{{extra.counter.new}}</td>",
									"            </tr>",
									"        {{/each}}",
									"    </table>",
									"`;",
									"// Set visualizer",
									"pm.visualizer.set(template, {",
									"    // Pass the response body parsed as JSON as `data`",
									"    response: pm.response.json()",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{furl}}/api/apps/{{app}}/jobs?type=datasource",
							"host": [
								"{{furl}}"
							],
							"path": [
								"api",
								"apps",
								"{{app}}",
								"jobs"
							],
							"query": [
								{
									"key": "type",
									"value": "datasource"
								}
							]
						}
					},
					"response": [
						{
							"name": "Export datasource",
							"originalRequest": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{furl}}/api/connectors/datasources/{{dsrc}}",
									"host": [
										"{{furl}}"
									],
									"path": [
										"api",
										"connectors",
										"datasources",
										"{{dsrc}}"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								},
								{
									"key": "fusion-request-id",
									"value": "Dvd48AMp4j"
								},
								{
									"key": "Server",
									"value": "Jetty(9.4.19.v20190610)"
								},
								{
									"key": "Content-Length",
									"value": "4282"
								}
							],
							"cookie": [],
							"body": "{\n    \"id\": \"ca-structured-data\",\n    \"created\": \"2020-06-20T11:18:48.307Z\",\n    \"modified\": \"2020-06-20T11:18:48.307Z\",\n    \"connector\": \"lucid.web\",\n    \"type\": \"web\",\n    \"description\": \"https://nystudio107.com/blog/annotated-json-ld-structured-data-examples\",\n    \"pipeline\": \"test\",\n    \"parserId\": \"test\",\n    \"properties\": {\n        \"refreshOlderThan\": -1,\n        \"f.selectorFields\": [\n            \"script[type=\\\"application/ld+json\\\"]\"\n        ],\n        \"f.appendTrailingSlashToLinks\": false,\n        \"restrictToTreeIgnoredHostPrefixes\": [\n            \"www.\"\n        ],\n        \"refreshErrors\": false,\n        \"crawlDBType\": \"on-disk\",\n        \"dedupeSaveSignature\": false,\n        \"f.allowCircularRedirects\": false,\n        \"f.firefoxHeadlessBrowser\": true,\n        \"f.discardLinkURLQueries\": false,\n        \"f.respectMetaEquivRedirects\": false,\n        \"fetchDelayMS\": 0,\n        \"commitAfterItems\": 10000,\n        \"refreshAll\": true,\n        \"f.defaultMIMEType\": \"application/octet-stream\",\n        \"f.extraLoadTimeMs\": 250,\n        \"f.jsPageLoadTimeout\": 20000,\n        \"restrictToTreeAllowSubdomains\": false,\n        \"f.requestCounterMinWaitMs\": 5000,\n        \"f.jsScriptTimeout\": 20000,\n        \"maxItems\": 10,\n        \"f.jsAjaxTimeout\": 20000,\n        \"trackEmbeddedIDs\": true,\n        \"f.scrapeLinksBeforeFiltering\": false,\n        \"dedupe\": false,\n        \"f.allowAllCertificates\": false,\n        \"collection\": \"test\",\n        \"f.obeyRobotsMeta\": true,\n        \"forceRefresh\": true,\n        \"delete404\": true,\n        \"parserRetryCount\": 0,\n        \"f.obeyRobots\": true,\n        \"f.quitTimeoutMs\": 5000,\n        \"f.index_items_discarded\": false,\n        \"fetchDelayMSPerHost\": true,\n        \"fetchThreads\": 10,\n        \"f.jsEnabledAuth\": false,\n        \"f.requestRetryCount\": 0,\n        \"indexCrawlDBToSolr\": false,\n        \"restrictToTree\": true,\n        \"retainOutlinks\": false,\n        \"f.defaultCharSet\": \"UTF-8\",\n        \"f.useIpAddressForSslConnections\": false,\n        \"f.useRequestCounter\": true,\n        \"f.headlessBrowser\": true,\n        \"emitThreads\": 10,\n        \"f.canonicalTagsRedirectLimit\": 4,\n        \"f.useFirefox\": false,\n        \"diagnosticMode\": false,\n        \"f.requestCounterMaxWaitMs\": 20000,\n        \"f.obeyCharSet\": true,\n        \"f.followCanonicalTags\": false,\n        \"delete\": true,\n        \"initial_mapping\": {\n            \"mappings\": [\n                {\n                    \"source\": \"charSet\",\n                    \"operation\": \"move\",\n                    \"target\": \"charSet_s\"\n                },\n                {\n                    \"source\": \"fetchedDate\",\n                    \"operation\": \"move\",\n                    \"target\": \"fetchedDate_dt\"\n                },\n                {\n                    \"source\": \"lastModified\",\n                    \"operation\": \"move\",\n                    \"target\": \"lastModified_dt\"\n                },\n                {\n                    \"source\": \"signature\",\n                    \"operation\": \"move\",\n                    \"target\": \"dedupeSignature_s\"\n                },\n                {\n                    \"source\": \"length\",\n                    \"operation\": \"move\",\n                    \"target\": \"length_l\"\n                },\n                {\n                    \"source\": \"mimeType\",\n                    \"operation\": \"move\",\n                    \"target\": \"mimeType_s\"\n                },\n                {\n                    \"source\": \"parent\",\n                    \"operation\": \"move\",\n                    \"target\": \"parent_s\"\n                },\n                {\n                    \"source\": \"owner\",\n                    \"operation\": \"move\",\n                    \"target\": \"owner_s\"\n                },\n                {\n                    \"source\": \"group\",\n                    \"operation\": \"move\",\n                    \"target\": \"group_s\"\n                }\n            ],\n            \"skip\": false,\n            \"id\": \"FromMap\",\n            \"type\": \"field-mapping\",\n            \"reservedFieldsMappingAllowed\": false\n        },\n        \"f.extraPageLoadDeltaChars\": 0,\n        \"f.maintainCookies\": false,\n        \"restrictToTreeUseHostAndPath\": false,\n        \"sitemap_incremental_crawling\": false,\n        \"f.screenshotFullscreen\": false,\n        \"f.filteringRootTags\": [\n            \"body\",\n            \"head\"\n        ],\n        \"f.timeoutMS\": 10000,\n        \"failFastOnStartLinkFailure\": true,\n        \"startLinks\": [\n            \"https://nystudio107.com/blog/annotated-json-ld-structured-data-examples\",\n            \"https://feedarmy.com/kb/adding-microdata-to-your-ecommerce-website-schema-org/\"\n        ],\n        \"f.discardLinkURLAnchors\": true,\n        \"f.simulateMobile\": false,\n        \"forceRefreshClearSignatures\": true,\n        \"chunkSize\": 1,\n        \"f.obeyRobotsDelay\": true,\n        \"f.obeyLinkNofollow\": true,\n        \"f.useHighPerfJsEval\": false,\n        \"deleteErrorsAfter\": -1,\n        \"f.userAgentName\": \"Lucidworks-Anda/2.0\",\n        \"retryEmit\": true,\n        \"f.crawlJS\": false,\n        \"depth\": 1,\n        \"f.cookieSpec\": \"browser-compatibility\",\n        \"refreshStartLinks\": true,\n        \"f.maxSizeBytes\": 4194304,\n        \"aliasExpiration\": 1,\n        \"f.takeScreenshot\": false\n    }\n}"
						},
						{
							"name": "Export datasource ca-parsing-test-2r",
							"originalRequest": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{furl}}/api/connectors/datasources/ca-parsing-test-2r",
									"host": [
										"{{furl}}"
									],
									"path": [
										"api",
										"connectors",
										"datasources",
										"ca-parsing-test-2r"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								},
								{
									"key": "fusion-request-id",
									"value": "2WusNVJ2E7"
								},
								{
									"key": "Server",
									"value": "Jetty(9.4.19.v20190610)"
								},
								{
									"key": "Set-Cookie",
									"value": "id=7c570a5b-ea69-4f72-88c1-fd20ce16239d;Path=/;HttpOnly"
								},
								{
									"key": "Content-Length",
									"value": "4343"
								}
							],
							"cookie": [],
							"body": "{\n    \"id\": \"ca-parsing-test-2r\",\n    \"created\": \"2020-06-17T22:40:06.635Z\",\n    \"modified\": \"2020-06-17T22:40:06.635Z\",\n    \"connector\": \"lucid.web\",\n    \"type\": \"web\",\n    \"pipeline\": \"test\",\n    \"parserId\": \"test\",\n    \"properties\": {\n        \"refreshOlderThan\": -1,\n        \"f.appendTrailingSlashToLinks\": false,\n        \"restrictToTreeIgnoredHostPrefixes\": [\n            \"www.\"\n        ],\n        \"refreshErrors\": false,\n        \"crawlDBType\": \"on-disk\",\n        \"dedupeSaveSignature\": false,\n        \"f.allowCircularRedirects\": false,\n        \"f.firefoxHeadlessBrowser\": true,\n        \"f.discardLinkURLQueries\": false,\n        \"f.respectMetaEquivRedirects\": false,\n        \"fetchDelayMS\": 0,\n        \"commitAfterItems\": 10000,\n        \"refreshAll\": true,\n        \"f.defaultMIMEType\": \"application/octet-stream\",\n        \"f.extraLoadTimeMs\": 250,\n        \"f.jsPageLoadTimeout\": 20000,\n        \"restrictToTreeAllowSubdomains\": false,\n        \"f.requestCounterMinWaitMs\": 5000,\n        \"f.jsScriptTimeout\": 20000,\n        \"f.jsAjaxTimeout\": 20000,\n        \"maxItems\": -1,\n        \"trackEmbeddedIDs\": true,\n        \"f.scrapeLinksBeforeFiltering\": false,\n        \"dedupe\": false,\n        \"f.allowAllCertificates\": false,\n        \"collection\": \"test\",\n        \"f.obeyRobotsMeta\": true,\n        \"forceRefresh\": false,\n        \"delete404\": true,\n        \"parserRetryCount\": 0,\n        \"f.obeyRobots\": true,\n        \"f.quitTimeoutMs\": 5000,\n        \"f.index_items_discarded\": false,\n        \"fetchDelayMSPerHost\": true,\n        \"f.jsEnabledAuth\": false,\n        \"f.requestRetryCount\": 0,\n        \"indexCrawlDBToSolr\": false,\n        \"fetchThreads\": 5,\n        \"restrictToTree\": true,\n        \"retainOutlinks\": false,\n        \"f.defaultCharSet\": \"UTF-8\",\n        \"f.useIpAddressForSslConnections\": false,\n        \"f.useRequestCounter\": true,\n        \"f.headlessBrowser\": true,\n        \"emitThreads\": 5,\n        \"f.canonicalTagsRedirectLimit\": 4,\n        \"f.useFirefox\": false,\n        \"diagnosticMode\": false,\n        \"f.requestCounterMaxWaitMs\": 20000,\n        \"f.obeyCharSet\": true,\n        \"f.followCanonicalTags\": false,\n        \"delete\": true,\n        \"initial_mapping\": {\n            \"mappings\": [\n                {\n                    \"source\": \"charSet\",\n                    \"operation\": \"move\",\n                    \"target\": \"charSet_s\"\n                },\n                {\n                    \"source\": \"fetchedDate\",\n                    \"operation\": \"move\",\n                    \"target\": \"fetchedDate_dt\"\n                },\n                {\n                    \"source\": \"lastModified\",\n                    \"operation\": \"move\",\n                    \"target\": \"lastModified_dt\"\n                },\n                {\n                    \"source\": \"signature\",\n                    \"operation\": \"move\",\n                    \"target\": \"dedupeSignature_s\"\n                },\n                {\n                    \"source\": \"length\",\n                    \"operation\": \"move\",\n                    \"target\": \"length_l\"\n                },\n                {\n                    \"source\": \"mimeType\",\n                    \"operation\": \"move\",\n                    \"target\": \"mimeType_s\"\n                },\n                {\n                    \"source\": \"parent\",\n                    \"operation\": \"move\",\n                    \"target\": \"parent_s\"\n                },\n                {\n                    \"source\": \"owner\",\n                    \"operation\": \"move\",\n                    \"target\": \"owner_s\"\n                },\n                {\n                    \"source\": \"group\",\n                    \"operation\": \"move\",\n                    \"target\": \"group_s\"\n                }\n            ],\n            \"skip\": false,\n            \"id\": \"FromMap\",\n            \"type\": \"field-mapping\",\n            \"reservedFieldsMappingAllowed\": false\n        },\n        \"f.extraPageLoadDeltaChars\": 0,\n        \"f.maintainCookies\": false,\n        \"restrictToTreeUseHostAndPath\": false,\n        \"sitemap_incremental_crawling\": false,\n        \"f.screenshotFullscreen\": false,\n        \"f.filteringRootTags\": [\n            \"body\",\n            \"head\"\n        ],\n        \"f.timeoutMS\": 10000,\n        \"failFastOnStartLinkFailure\": true,\n        \"startLinks\": [\n            \"https://www.canada.ca/en/canadian-heritage/services/royal-symbols-titles.html\",\n            \"https://www.canada.ca/en/canadian-heritage/services/royal-symbols-titles/canadian-flags-royal-family.html\",\n            \"https://www.canada.ca/fr/patrimoine-canadien/campagnes/jour-drapeau-national-canada/coin-enseignants.html\",\n            \"https://www.canada.ca/fr/patrimoine-canadien/services/canada-holocauste.html\"\n        ],\n        \"f.discardLinkURLAnchors\": true,\n        \"f.simulateMobile\": false,\n        \"forceRefreshClearSignatures\": true,\n        \"chunkSize\": 1,\n        \"f.obeyRobotsDelay\": true,\n        \"f.obeyLinkNofollow\": true,\n        \"f.useHighPerfJsEval\": false,\n        \"deleteErrorsAfter\": -1,\n        \"f.userAgentName\": \"Lucidworks-Anda/2.0\",\n        \"retryEmit\": true,\n        \"f.crawlJS\": false,\n        \"depth\": -1,\n        \"f.cookieSpec\": \"browser-compatibility\",\n        \"f.maxSizeBytes\": 4194304,\n        \"refreshStartLinks\": false,\n        \"aliasExpiration\": 1,\n        \"f.takeScreenshot\": false\n    }\n}"
						}
					]
				}
			]
		},
		{
			"name": "Generate Singals:basic F4.x",
			"item": [
				{
					"name": "Get Sample query for building signals",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"",
									"pm.test(\"x-fusion-query-id exists and is saved\", function () {",
									"    var json = pm.response.json();",
									"    let fq_id = pm.response.headers.get(\"x-fusion-query-id\");",
									"    pm.environment.set(\"fq_id\", fq_id);",
									"",
									"    let currentQry = json.responseHeader.params.q;",
									"    pm.environment.set(\"currentQry\", currentQry);",
									"    ",
									"    let docs = json.response.docs;",
									"    // let doc5id = docs[4].id;",
									"    pm.environment.set(\"qryDocs\", docs);",
									"    ",
									"    console.info(\"Set to environment fq_id: \" + fq_id + \" --- q: \" + currentQry + \" -- qryDocs: \" + docs);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{furl}}/api/apps/{{app}}/query-pipelines/{{app}}/collections/{{coll}}/select?q=financing&bu={{bu}}&category={{category}}&subcategory={{subcategory}}",
							"host": [
								"{{furl}}"
							],
							"path": [
								"api",
								"apps",
								"{{app}}",
								"query-pipelines",
								"{{app}}",
								"collections",
								"{{coll}}",
								"select"
							],
							"query": [
								{
									"key": "rows",
									"value": "50",
									"disabled": true
								},
								{
									"key": "q",
									"value": "financing",
									"description": "get from folder vars"
								},
								{
									"key": "bu",
									"value": "{{bu}}",
									"description": "example of sending bu with query"
								},
								{
									"key": "category",
									"value": "{{category}}",
									"description": "example of sending category with query"
								},
								{
									"key": "subcategory",
									"value": "{{subcategory}}",
									"description": "example of sending subcategory with query"
								}
							]
						},
						"description": "capture the x-fusion-query-id\neg: x-fusion-query-id: GrkozUSzi4\n"
					},
					"response": []
				},
				{
					"name": "Add custom UI signals",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var fq_id = pm.environment.get(\"fq_id\");",
									"let currentQry = pm.environment.get(\"currentQry\");",
									"let qryDocs = pm.environment.get(\"qryDocs\");",
									"console.info(qryDocs);",
									"",
									"let doc2id = qryDocs[2].id;",
									"",
									"",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "[\n    {\n        \"type\": \"right-click:new-tab\",\n        \"params\": {\n            \"docId\": \"{{doc2id}}\",\n            \"count\": 555,\n            \"source\": \"postman test\",\n            \"note\": \"postman test script: Add custom right-click signal\",\n            \"collection\": \"{{coll}}\",\n            \"query\": \"{{currentQry}}\",\n            \"fusion-query-id\": \"{{fq_id}}\",\n            \"testData\": \"true\",\n            \"filterQueries\": []\n        }\n    },\n        {\n        \"type\": \"mousewheel-click:new-tab\",\n        \"params\": {\n            \"source\": \"postman test\",\n            \"note\": \"postman test script: Add custom signal: mousewheel click\",\n            \"collection\": \"{{coll}}\",\n            \"query\": \"{{currentQry}}\",\n            \"fusion-query-id\": \"{{fq_id}}\",\n            \"testData\": \"true\",\n            \"filterQueries\": []\n        }\n    }\n]",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{furl}}/api/signals/{{coll}}?async=false&commit=true",
							"host": [
								"{{furl}}"
							],
							"path": [
								"api",
								"signals",
								"{{coll}}"
							],
							"query": [
								{
									"key": "async",
									"value": "false"
								},
								{
									"key": "commit",
									"value": "true"
								}
							]
						},
						"description": "page scroll, right click:new page,...\nNOTE: these all assume the UI/front-end javascript captures these events, these calls only receive those signals sent from the UI"
					},
					"response": []
				},
				{
					"name": "Add sample signals docs 5,6,7",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var fq_id = pm.environment.get(\"fq_id\");",
									"let currentQry = pm.environment.get(\"currentQry\");",
									"let qryDocs = pm.environment.get(\"qryDocs\");",
									"console.info(qryDocs);",
									"",
									"let doc5id = qryDocs[4].id;",
									"let doc6id = qryDocs[5].id;",
									"let doc7id = qryDocs[6].id;",
									"",
									"console.info(\"Get from env fq_id : \" + fq_id + \" --- Q from pre-request: \" + currentQry + \" --- doc5id:\" + doc5id  + \" --- doc6id:\" + doc6id  + \" --- doc7id:\" + doc7id );",
									"",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "[\n    {\n        \"type\": \"click\",\n        \"params\": {\n            \"docId\": \"{{doc5id}}\",\n            \"count\": 5,\n            \"source\": \"postman test\",\n            \"note\": \"postman test script: Add basic signal\",\n            \"collection\": \"{{coll}}\",\n            \"query\": \"{{currentQry}}\",\n            \"fusion-query-id\": \"{{fq_id}}\",\n            \"BU\":\"hybrid cloud\",\n            \"Category\": \"solutions\",\n            \"SubCategory\": \"virtualization\",\n            \"testData\": \"true\",\n            \"filterQueries\": []\n        }\n    },\n        {\n        \"type\": \"click\",\n        \"params\": {\n            \"docId\": \"{{doc6id}}\",\n            \"count\": 6,\n            \"source\": \"postman test\",\n            \"note\": \"postman test script: Add basic signal\",\n            \"collection\": \"{{coll}}\",\n            \"query\": \"{{currentQry}}\",\n            \"fusion-query-id\": \"{{fq_id}}\",\n            \"BU\":\"hybrid cloud\",\n            \"Category\": \"solutions\",\n            \"SubCategory\": \"virtualization\",\n            \"testData\": \"true\",\n            \"filterQueries\": []\n        }\n    },\n    {\n        \"type\": \"click\",\n        \"BU\":\"hybrid cloud -- put in 'params' section or this gets dropped\",\n        \"Category\": \"solutions -- put in 'params' section or this gets dropped\",\n        \"SubCategory\": \"virtualization -- put in 'params' section or this gets dropped\",\n        \"params\": {\n            \"docId\": \"{{doc7id}}\",\n            \"count\": 7,\n            \"source\": \"postman test\",\n            \"note\": \"postman test script: putting params one level up ---NOTE: this won't work as desired missing BU, cat, subcat above\",\n            \"collection\": \"{{coll}}\",\n            \"query\": \"{{currentQry}}\",\n            \"fusion-query-id\": \"{{fq_id}}\",\n            \"testData\": \"true\",\n            \"filterQueries\": []\n        }\n    }\n]",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{furl}}/api/apollo/apps/{{app}}/signals/hpe?async=false&commit=true",
							"host": [
								"{{furl}}"
							],
							"path": [
								"api",
								"apollo",
								"apps",
								"{{app}}",
								"signals",
								"hpe"
							],
							"query": [
								{
									"key": "async",
									"value": "false"
								},
								{
									"key": "commit",
									"value": "true"
								}
							]
						},
						"description": "Test case for adding the most basic signal possible via postman"
					},
					"response": []
				}
			],
			"description": "very basic signals generation / testing . -- Untested, but should have a request or two in the older F4.2.x format\n\n\nhttps://doc.lucidworks.com/fusion-server/4.2/reference/api/signals-api.html",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "Generate Singals:basic F5.x",
			"item": [
				{
					"name": "Get Sample query for building signals",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"",
									"pm.test(\"x-fusion-query-id exists and is saved\", function () {",
									"    var json = pm.response.json();",
									"    let fq_id = pm.response.headers.get(\"x-fusion-query-id\");",
									"    pm.environment.set(\"fq_id\", fq_id);",
									"",
									"    let currentQry = json.responseHeader.params.q;",
									"    pm.environment.set(\"currentQry\", currentQry);",
									"    ",
									"    let docs = json.response.docs;",
									"    // let doc5id = docs[4].id;",
									"    pm.environment.set(\"qryDocs\", docs);",
									"    ",
									"    console.info(\"Set to environment fq_id: \" + fq_id + \" --- q: \" + currentQry + \" -- qryDocs: \" + docs);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{furl}}/api/apps/{{app}}/query-pipelines/{{qryp}}/collections/{{coll}}/select?bu={{bu}}&category={{category}}&subcategory={{subcategory}}&q=spark",
							"host": [
								"{{furl}}"
							],
							"path": [
								"api",
								"apps",
								"{{app}}",
								"query-pipelines",
								"{{qryp}}",
								"collections",
								"{{coll}}",
								"select"
							],
							"query": [
								{
									"key": "rows",
									"value": "50",
									"disabled": true
								},
								{
									"key": "bu",
									"value": "{{bu}}",
									"description": "example of sending bu with query"
								},
								{
									"key": "category",
									"value": "{{category}}",
									"description": "example of sending category with query"
								},
								{
									"key": "subcategory",
									"value": "{{subcategory}}",
									"description": "example of sending subcategory with query"
								},
								{
									"key": "q",
									"value": "spark"
								}
							]
						},
						"description": "capture the x-fusion-query-id\neg: x-fusion-query-id: GrkozUSzi4\n"
					},
					"response": []
				},
				{
					"name": "Add custom UI signals",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var fq_id = pm.environment.get(\"fq_id\");",
									"let currentQry = pm.environment.get(\"currentQry\");",
									"let qryDocs = pm.environment.get(\"qryDocs\");",
									"console.info(qryDocs);",
									"",
									"let doc2id = qryDocs[2].id;",
									"",
									"",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "[\n    {\n        \"type\": \"click\",\n        \"params\": {\n            \"docId\": \"{{doc2id}}\",\n            \"count\": 1,\n            \"source\": \"postman test\",\n            \"note\": \"postman test script: basic click signal\",\n            \"collection\": \"{{coll}}\",\n            \"query\": \"{{currentQry}}\",\n            \"fusion-query-id\": \"{{fq_id}}\",\n            \"testData\": \"true\",\n            \"filterQueries\": []\n        }\n    },\n    {\n        \"type\": \"click\",\n        \"params\": {\n            \"docId\": \"{{doc2id}}\",\n            \"count\": 555,\n            \"source\": \"postman test\",\n            \"note\": \"postman test script: Add custom right-click signal\",\n            \"collection\": \"{{coll}}\",\n            \"query\": \"{{currentQry}}\",\n            \"fusion-query-id\": \"{{fq_id}}\",\n            \"testData\": \"true\",\n            \"filterQueries\": []\n        }\n    },\n        {\n        \"type\": \"mousewheel-click new-tab\",\n        \"params\": {\n            \"source\": \"postman test\",\n            \"note\": \"postman test script: Add custom signal: mousewheel click\",\n            \"collection\": \"{{coll}}\",\n            \"query\": \"{{currentQry}}\",\n            \"fusion-query-id\": \"{{fq_id}}\",\n            \"testData\": \"true\",\n            \"filterQueries\": []\n        }\n    },\n    {\n        \"type\": \"bookmark\",\n        \"params\": {\n            \"source\": \"postman test\",\n            \"note\": \"postman test script: Add custom signal: bookmark\",\n            \"collection\": \"{{coll}}\",\n            \"query\": \"{{currentQry}}\",\n            \"fusion-query-id\": \"{{fq_id}}\",\n            \"testData\": \"true\",\n            \"filterQueries\": []\n        }\n    }\n]",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{furl}}/api/signals/{{coll}}?async=false&commit=true",
							"host": [
								"{{furl}}"
							],
							"path": [
								"api",
								"signals",
								"{{coll}}"
							],
							"query": [
								{
									"key": "async",
									"value": "false"
								},
								{
									"key": "commit",
									"value": "true"
								}
							]
						},
						"description": "page scroll, right click:new page,...\nNOTE: these all assume the UI/front-end javascript captures these events, these calls only receive those signals sent from the UI"
					},
					"response": []
				},
				{
					"name": "Add sample signals docs 5,6,7",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var fq_id = pm.environment.get(\"fq_id\");",
									"let currentQry = pm.environment.get(\"currentQry\");",
									"let qryDocs = pm.environment.get(\"qryDocs\");",
									"console.info(qryDocs);",
									"",
									"let doc5id = qryDocs[4].id;",
									"let doc6id = qryDocs[5].id;",
									"let doc7id = qryDocs[6].id;",
									"",
									"console.info(\"Get from env fq_id : \" + fq_id + \" --- Q from pre-request: \" + currentQry + \" --- doc5id:\" + doc5id  + \" --- doc6id:\" + doc6id  + \" --- doc7id:\" + doc7id );",
									"",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "[\n    {\n        \"type\": \"click\",\n        \"params\": {\n            \"docId\": \"{{doc5id}}\",\n            \"count\": 5,\n            \"source\": \"postman test\",\n            \"note\": \"postman test script: Add basic signal\",\n            \"collection\": \"{{coll}}\",\n            \"query\": \"{{currentQry}}\",\n            \"fusion-query-id\": \"{{fq_id}}\",\n            \"BU\":\"hybrid cloud\",\n            \"Category\": \"solutions\",\n            \"SubCategory\": \"virtualization\",\n            \"testData\": \"true\",\n            \"filterQueries\": []\n        }\n    },\n        {\n        \"type\": \"click\",\n        \"params\": {\n            \"docId\": \"{{doc6id}}\",\n            \"count\": 6,\n            \"source\": \"postman test\",\n            \"note\": \"postman test script: Add basic signal\",\n            \"collection\": \"{{coll}}\",\n            \"query\": \"{{currentQry}}\",\n            \"fusion-query-id\": \"{{fq_id}}\",\n            \"BU\":\"hybrid cloud\",\n            \"Category\": \"solutions\",\n            \"SubCategory\": \"virtualization\",\n            \"testData\": \"true\",\n            \"filterQueries\": []\n        }\n    },\n    {\n        \"type\": \"click\",\n        \"BU\":\"hybrid cloud -- put in 'params' section or this gets dropped\",\n        \"Category\": \"solutions -- put in 'params' section or this gets dropped\",\n        \"SubCategory\": \"virtualization -- put in 'params' section or this gets dropped\",\n        \"params\": {\n            \"docId\": \"{{doc7id}}\",\n            \"count\": 7,\n            \"source\": \"postman test\",\n            \"note\": \"postman test script: putting params one level up ---NOTE: this won't work as desired missing BU, cat, subcat above\",\n            \"collection\": \"{{coll}}\",\n            \"query\": \"{{currentQry}}\",\n            \"fusion-query-id\": \"{{fq_id}}\",\n            \"testData\": \"true\",\n            \"filterQueries\": []\n        }\n    }\n]",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{furl}}/api/signals/{{coll}}?async=false&commit=true",
							"host": [
								"{{furl}}"
							],
							"path": [
								"api",
								"signals",
								"{{coll}}"
							],
							"query": [
								{
									"key": "async",
									"value": "false"
								},
								{
									"key": "commit",
									"value": "true"
								}
							]
						},
						"description": "Test case for adding the most basic signal possible via postman"
					},
					"response": []
				}
			],
			"description": "very basic signals generation / testing F5.x (slight difference in api syntax)\n\nhttps://doc.lucidworks.com/fusion-server/5.2/reference/api/signals-api.html",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "Blobs",
			"item": [
				{
					"name": "Get a file blob",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{furl}}/api/blobs/userkeymatches-to-import.csv",
							"host": [
								"{{furl}}"
							],
							"path": [
								"api",
								"blobs",
								"userkeymatches-to-import.csv"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Content curation",
			"item": [
				{
					"name": "DELETE content by query tag_ss:* xml",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "<delete>\n    <query>dataSource_s:EpiServer</query>\n</delete>",
							"options": {
								"raw": {
									"language": "xml"
								}
							}
						},
						"url": {
							"raw": "{{furl}}/api/solr/{{coll}}/select?q=*:*",
							"host": [
								"{{furl}}"
							],
							"path": [
								"api",
								"solr",
								"{{coll}}",
								"select"
							],
							"query": [
								{
									"key": "q",
									"value": "*:*"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "delet content by query tag_ss:*",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "<delete>\n    <query>dataSource_s:EpiServer</query>\n</delete>",
							"options": {
								"raw": {
									"language": "xml"
								}
							}
						},
						"url": {
							"raw": "{{furl}}/api/solr/{{coll}}/update?commit=true",
							"host": [
								"{{furl}}"
							],
							"path": [
								"api",
								"solr",
								"{{coll}}",
								"update"
							],
							"query": [
								{
									"key": "commit",
									"value": "true"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "delete tag_ss",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "<delete>\n    <query>tag_ss:*</query>\n</delete>",
							"options": {
								"raw": {
									"language": "xml"
								}
							}
						},
						"url": {
							"raw": "{{furl}}/api/solr/{{coll}}/update?commit=true",
							"host": [
								"{{furl}}"
							],
							"path": [
								"api",
								"solr",
								"{{coll}}",
								"update"
							],
							"query": [
								{
									"key": "commit",
									"value": "true"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Typeahead setup",
			"item": [
				{
					"name": "Create Typeahead Collection",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"id\" : \"{{app}}-typeahead\",\n  \"searchClusterId\" : \"default\",\n  \"commitWithin\" : 10000,\n  \"solrParams\" : {\n    \"numShards\" : 1,\n    \"replicationFactor\" : 2\n  },\n  \"type\" : \"DATA\",\n  \"metadata\" : { }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{furl}}/api/apps/{{app}}/collections",
							"host": [
								"{{furl}}"
							],
							"path": [
								"api",
								"apps",
								"{{app}}",
								"collections"
							]
						}
					},
					"response": []
				},
				{
					"name": "Check Typeahead Collection",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"id\" : \"{{app}}-typeahead\",\n  \"searchClusterId\" : \"default\",\n  \"commitWithin\" : 10000,\n  \"solrParams\" : {\n    \"numShards\" : 1,\n    \"replicationFactor\" : 2\n  },\n  \"type\" : \"DATA\",\n  \"metadata\" : { }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{furl}}/api/apps/{{app}}/collections",
							"host": [
								"{{furl}}"
							],
							"path": [
								"api",
								"apps",
								"{{app}}",
								"collections"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update  Managed Schema for Typeahead -- add fieldtypes and fields",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(204);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"add-field-type\": {\n    \"name\": \"edge_ngram\",\n    \"stored\": \"false\",\n    \"class\": \"solr.TextField\",\n    \"positionIncrementGap\": \"100\",\n    \"indexAnalyzer\": {\n      \"tokenizer\": {\n        \"class\": \"solr.StandardTokenizerFactory\"\n      },\n      \"filters\": [\n        {\n          \"class\": \"solr.LowerCaseFilterFactory\"\n        },\n        {\n          \"class\": \"solr.EdgeNGramFilterFactory\",\n          \"maxGramSize\": \"20\",\n          \"minGramSize\": \"2\"\n        }\n      ]\n    },\n    \"queryAnalyzer\": {\n      \"tokenizer\": {\n        \"class\": \"solr.KeywordTokenizerFactory\"\n      },\n      \"filters\": [\n        {\n          \"class\": \"solr.LowerCaseFilterFactory\"\n        }\n      ]\n    }\n  },\n\n  \"add-field-type\": {\n  \"name\": \"edge_ngram_query\",\n  \"class\": \"solr.TextField\",\n  \"positionIncrementGap\": \"100\",\n  \"indexAnalyzer\": {\n    \"tokenizer\": {\n      \"class\": \"solr.StandardTokenizerFactory\"\n    },\n    \"filters\": [\n      {\n        \"class\": \"solr.LowerCaseFilterFactory\"\n      },\n      {\n        \"class\": \"solr.EdgeNGramFilterFactory\",\n        \"maxGramSize\": \"20\",\n        \"minGramSize\": \"1\"\n      }\n    ]\n  },\n  \"queryAnalyzer\": {\n    \"tokenizer\": {\n      \"class\": \"solr.StandardTokenizerFactory\"\n    },\n    \"filters\": [\n      {\n        \"class\": \"solr.LowerCaseFilterFactory\"\n      },\n      {\n        \"class\": \"solr.EdgeNGramFilterFactory\",\n        \"maxGramSize\": \"20\",\n        \"minGramSize\": \"1\"\n      }\n    ]\n  }\n},\n\n\"add-field-type\": {\n  \"name\": \"ngram\",\n  \"class\": \"solr.TextField\",\n  \"positionIncrementGap\": \"100\",\n  \"indexAnalyzer\": {\n    \"tokenizer\": {\n      \"class\": \"solr.NGramTokenizerFactory\",\n      \"maxGramSize\": \"20\",\n      \"minGramSize\": \"2\"\n    },\n    \"filters\": [\n      {\n        \"class\": \"solr.LowerCaseFilterFactory\"\n      }\n    ]\n  },\n  \"queryAnalyzer\": {\n    \"tokenizer\": {\n      \"class\": \"solr.KeywordTokenizerFactory\"\n    },\n    \"filters\": [\n      {\n        \"class\": \"solr.LowerCaseFilterFactory\"\n      }\n    ]\n  }\n},\n\n\"add-field-type\": {\n  \"name\": \"ngram_query\",\n  \"stored\": \"false\",\n  \"class\": \"solr.TextField\",\n  \"positionIncrementGap\": \"100\",\n  \"indexAnalyzer\": {\n    \"tokenizer\": {\n      \"class\": \"solr.NGramTokenizerFactory\",\n      \"maxGramSize\": \"20\",\n      \"minGramSize\": \"2\"\n    },\n    \"filters\": [\n      {\n        \"class\": \"solr.LowerCaseFilterFactory\"\n      }\n    ]\n  },\n  \"queryAnalyzer\": {\n    \"tokenizer\": {\n      \"class\": \"solr.NGramTokenizerFactory\",\n      \"maxGramSize\": \"20\",\n      \"minGramSize\": \"2\"\n    },\n    \"filters\": [\n      {\n        \"class\": \"solr.LowerCaseFilterFactory\"\n      }\n    ]\n  }\n},\n\n\"add-field-type\": {\n  \"name\": \"string_sort\",\n  \"omitNorms\": \"true\",\n  \"sortMissingLast\": \"true\",\n  \"class\": \"solr.TextField\",\n  \"positionIncrementGap\": \"100\",\n  \"analyzer\": {\n    \"tokenizer\": {\n      \"class\": \"solr.KeywordTokenizerFactory\"\n    },\n    \"filters\": [\n      {\n        \"class\": \"solr.LowerCaseFilterFactory\"\n      },\n      {\n        \"class\": \"solr.TrimFilterFactory\"\n      },\n      {\n        \"class\": \"solr.PatternReplaceFilterFactory\",\n        \"replacement\": \"\",\n        \"replace\": \"all\",\n        \"pattern\": \"([^a-z])\"\n      }\n    ]\n  }\n},\n\n\"add-field-type\": {\n  \"name\": \"text_no_vowels\",\n  \"class\": \"solr.TextField\",\n  \"positionIncrementGap\": \"100\",\n  \"analyzer\": {\n    \"tokenizer\": {\n      \"class\": \"solr.StandardTokenizerFactory\"\n    },\n    \"filters\": [\n      {\n        \"class\": \"solr.StopFilterFactory\",\n        \"ignoreCase\": \"true\",\n        \"words\": \"stopwords.txt\"\n      },\n      {\n        \"class\": \"solr.LowerCaseFilterFactory\"\n      },\n      {\n        \"class\": \"solr.PatternReplaceFilterFactory\",\n        \"replacement\": \"\",\n        \"replace\": \"all\",\n        \"pattern\": \"([aeiouy])\"\n      },\n      {\n        \"class\": \"solr.LengthFilterFactory\",\n        \"max\": \"7\",\n        \"min\": \"1\"\n      }\n    ]\n  }\n},\n\n  \"add-field\" : {\n    \"name\":\"spell\",\n    \"type\":\"text_general\",\n    \"stored\": \"false\"},\n  \"add-field\" : {\n    \"name\":\"name_contains\",\n    \"type\":\"ngram\"},\n  \"add-field\" : {\n    \"name\":\"name_edge\",\n    \"type\":\"edge_ngram\"},\n  \"add-field\" : {\n    \"name\":\"name_en\",\n    \"type\":\"text_en\"},\n  \"add-field\" : {\n    \"name\":\"name\",\n    \"type\":\"text_general\"},\n  \"add-field\" : {\n    \"name\":\"name_no_vowels\",\n    \"type\":\"text_no_vowels\"},\n  \"add-field\" : {\n    \"name\":\"name_phonetic_en\",\n    \"type\":\"phonetic_en\"},\n  \"add-field\" : {\n    \"name\":\"name_sort\",\n    \"type\":\"string_sort\",\n    \"stored\": \"false\"},\n  \"add-field\" : {\n    \"name\":\"type\",\n    \"type\":\"string\"},\n  \"add-field\" : {\n    \"name\":\"synonyms\",\n    \"type\":\"text_general\",\n    \"multiValued\":\"true\"},\n\n\"add-copy-field\":{\n   \"source\":\"name\",\n   \"dest\":[\n     \"name_edge\",\n     \"name_contains\",\n     \"name_no_vowels\",\n     \"name_phonetic_en\",\n     \"name_en\",\n     \"name_sort\",\n     \"spell\"]}\n}\n",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{furl}}/api/solr/typeahead/schema?reload=true",
							"host": [
								"{{furl}}"
							],
							"path": [
								"api",
								"solr",
								"typeahead",
								"schema"
							],
							"query": [
								{
									"key": "reload",
									"value": "true"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Export opbects for migration",
			"item": [
				{
					"name": "New Request",
					"request": {
						"method": "GET",
						"header": []
					},
					"response": []
				}
			]
		}
	],
	"auth": {
		"type": "basic",
		"basic": [
			{
				"key": "password",
				"value": "{{pass}}",
				"type": "string"
			},
			{
				"key": "username",
				"value": "{{user}}",
				"type": "string"
			}
		]
	},
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "furl",
			"value": "http://newmac:8764"
		},
		{
			"key": "app",
			"value": "test"
		},
		{
			"key": "coll",
			"value": "test"
		},
		{
			"key": "idxp",
			"value": "test"
		},
		{
			"key": "qryp",
			"value": "test"
		}
	]
}